title: 前端一次编译多环境部署
author: weihai
tags:
  - vue
categories: []
date: 2019-10-30 19:27:00
---
# 前端一次编译多环境部署

#### 需求:
> 想要只编译一次，能同时发布到staging和prodcution环境！

#### 现状：
> 一些配置写在了代码里，有通过环境设置不同变量的，但是环境变量和外网是相同的，所以值也和外网一样了

### 可以尝试的解决办法
- 从接口读取配置，由接口控制不同环境的值
- 从本地文件读取可变的配置。代码里可以读取同一个地址的配置文件，但是在docker启动时挂载不同的配置文件