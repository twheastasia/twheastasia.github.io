{"meta":{"version":1,"warehouse":"4.0.0"},"models":{"Asset":[{"_id":"source/images/pasted-0.png","path":"images/pasted-0.png","modified":0,"renderable":0},{"_id":"source/images/wechat.jpg","path":"images/wechat.jpg","modified":0,"renderable":0},{"_id":"source/images/alipay.jpg","path":"images/alipay.jpg","modified":0,"renderable":0},{"_id":"source/images/home.jpeg","path":"images/home.jpeg","modified":0,"renderable":0},{"_id":"source/images/server-url.png","path":"images/server-url.png","modified":0,"renderable":0},{"_id":"source/images/WX20200807-102652.png","path":"images/WX20200807-102652.png","modified":0,"renderable":0},{"_id":"source/images/eva.png","path":"images/eva.png","modified":0,"renderable":0},{"_id":"source/images/avatar.jpg","path":"images/avatar.jpg","modified":0,"renderable":0},{"_id":"themes/butterfly/source/css/index.styl","path":"css/index.styl","modified":0,"renderable":1},{"_id":"themes/butterfly/source/css/var.styl","path":"css/var.styl","modified":0,"renderable":1},{"_id":"themes/butterfly/source/img/404.jpg","path":"img/404.jpg","modified":0,"renderable":1},{"_id":"themes/butterfly/source/img/algolia.svg","path":"img/algolia.svg","modified":0,"renderable":1},{"_id":"themes/butterfly/source/img/favicon.png","path":"img/favicon.png","modified":0,"renderable":1},{"_id":"themes/butterfly/source/img/friend_404.gif","path":"img/friend_404.gif","modified":0,"renderable":1},{"_id":"themes/butterfly/source/img/loading.gif","path":"img/loading.gif","modified":0,"renderable":1},{"_id":"themes/butterfly/source/js/main.js","path":"js/main.js","modified":0,"renderable":1},{"_id":"themes/butterfly/source/js/tw_cn.js","path":"js/tw_cn.js","modified":0,"renderable":1},{"_id":"themes/butterfly/source/js/utils.js","path":"js/utils.js","modified":0,"renderable":1},{"_id":"themes/butterfly/source/js/search/algolia.js","path":"js/search/algolia.js","modified":0,"renderable":1},{"_id":"themes/butterfly/source/js/search/local-search.js","path":"js/search/local-search.js","modified":0,"renderable":1},{"_id":"source/images/展示1.jpg","path":"images/展示1.jpg","modified":0,"renderable":0},{"_id":"source/images/beian.png","path":"images/beian.png","modified":0,"renderable":0}],"Cache":[{"_id":"source/.DS_Store","hash":"8ac68cd8be8a99a04d149cf29c7987ab1552f32b","modified":1606977328042},{"_id":"source/_posts/gitbook搭建一个简单的faq网站.md","hash":"2b2733f0bd3a45088de6aa9a4dd82184e9c13f27","modified":1603953654063},{"_id":"source/_posts/mac下使用plist实现定时任务.md","hash":"6c400d686eb922bc50c3549396a9c4344132c8d9","modified":1558594739145},{"_id":"source/_posts/ssh 长链接.md","hash":"b6b2cd1be8b414ff7f65e50946f4682750a154f9","modified":1618455285821},{"_id":"source/_posts/opentWrt-流量控制tc.md","hash":"8cb4ff49ca1e80bf36145019a7ffd7ac474fae4e","modified":1585015074551},{"_id":"source/_posts/ui_automonkey.md","hash":"9decc2c86f1a313538ef69d9fc487db005d32b3a","modified":1558594739145},{"_id":"source/_posts/quill-image-resize-module 踩坑.md","hash":"6bab1c3efb3fb97dbe42b98d9d0dad7e8c2dc670","modified":1596421155997},{"_id":"source/_posts/zsh自定义.md","hash":"fb348c7e42610c34d686a7e298ee1734e34cf99e","modified":1558594739146},{"_id":"source/_posts/vue中不同样式写法的优先级.md","hash":"4f7e7789e3d967341152df66694aba42b1ed8ebf","modified":1596768217327},{"_id":"source/_posts/给外网nextcloud设置服务器地址.md","hash":"f61bff8f539eef357cc704553b4e879b9ed41958","modified":1585015071293},{"_id":"source/categories/index.md","hash":"321632e4eb69cbd214e1c51e4782062446705a75","modified":1618455285822},{"_id":"source/_posts/移动端h5中viewpoint的使用.md","hash":"6ba472d179b108770570d8e21659a7a78c86dbae","modified":1572854512196},{"_id":"source/_posts/前端一次编译多环境部署.md","hash":"235061b7ce70808ac2be8918902728729ba7d2dd","modified":1572434840455},{"_id":"source/_posts/退出页面时提示（vue）.md","hash":"38da464fac56f94763566f4ca87d054e330d4e48","modified":1559721511178},{"_id":"source/tags/index.md","hash":"030d636eda0ed345f600a963ba43096d469e4903","modified":1618455285827},{"_id":"source/images/pasted-0.png","hash":"3bcbf5b059ac2630f0fd4f5924a492f16b2fbd6b","modified":1558594739148},{"_id":"source/images/wechat.jpg","hash":"a72d12cb228e648a13d0182a937b03bed3d07203","modified":1618455285827},{"_id":"source/images/alipay.jpg","hash":"b20fe993a0442de0f9ceab79fed8f725135e2792","modified":1618455285822},{"_id":"source/images/home.jpeg","hash":"5b11fefcd2e8f5a43b9e52bd83de14d22c5b38e8","modified":1618455285826},{"_id":"source/images/server-url.png","hash":"7bda7fb3575fd81666665352b305aa7a31f12317","modified":1585014481640},{"_id":"source/images/WX20200807-102652.png","hash":"85cdc181727e9aa7944b839b6fbc0558a0c4891f","modified":1596767413688},{"_id":"source/images/eva.png","hash":"f22c5f47f45bfdbfbabd946bab61b3e252cdae0f","modified":1618455285825},{"_id":"source/images/avatar.jpg","hash":"eaf6733163a316a562806aa2a5137abcab44edf2","modified":1558594739148},{"_id":"themes/butterfly/LICENSE","hash":"1128f8f91104ba9ef98d37eea6523a888dcfa5de","modified":1618456025357},{"_id":"themes/butterfly/README.md","hash":"32ada08cfe64b38f8d5ac5de31cfb92956ff407c","modified":1618456025357},{"_id":"themes/butterfly/package.json","hash":"9811c9076a191872f93442d86b7d5c505765e15f","modified":1618456025383},{"_id":"themes/butterfly/README_CN.md","hash":"dc38de6a558b66e05188fc62c5047ec982a74ff3","modified":1618456025357},{"_id":"themes/butterfly/.github/stale.yml","hash":"05a55a87fa7f122c59683e41c8b2e37e79f688f0","modified":1618456025356},{"_id":"themes/butterfly/_config.yml","hash":"f94af3be4a1fdd401dde66a462c53b071c8fe39a","modified":1618456025357},{"_id":"themes/butterfly/languages/default.yml","hash":"7ca673fb629ea74f5ba5e75b4f0f95248cfb5090","modified":1618456025357},{"_id":"themes/butterfly/languages/en.yml","hash":"cd333235ff1648a6bf58dfafc81f2c57672a15a5","modified":1618456025358},{"_id":"themes/butterfly/languages/zh-TW.yml","hash":"79a50c40d9f5463f1fa42aa870ac6b8b84540412","modified":1618456025358},{"_id":"themes/butterfly/languages/zh-CN.yml","hash":"741e522b2387f94764a73844e7b084cc7e927c54","modified":1618456025358},{"_id":"themes/butterfly/layout/404.pug","hash":"58cfa5985e58e10c97a9f8a9dc354f1c766154b3","modified":1618456025358},{"_id":"themes/butterfly/layout/category.pug","hash":"60c1b795b6e227b5dd81963b51d29d1b81d0bf49","modified":1618456025358},{"_id":"themes/butterfly/layout/archive.pug","hash":"bd62286afb64a51c97e800c5945620d51605d5fa","modified":1618456025358},{"_id":"themes/butterfly/layout/index.pug","hash":"e1c3146834c16e6077406180858add0a8183875a","modified":1618456025373},{"_id":"themes/butterfly/layout/page.pug","hash":"82aa988527a11835e7ac86ce4f23b8cd20014dfa","modified":1618456025373},{"_id":"themes/butterfly/layout/post.pug","hash":"8d398c8925182699d9f2b9f1b727f06228488312","modified":1618456025374},{"_id":"themes/butterfly/layout/tag.pug","hash":"0440f42569df2676273c026a92384fa7729bc4e9","modified":1618456025374},{"_id":"themes/butterfly/.github/ISSUE_TEMPLATE/bug_report.md","hash":"476802922b774b679225102ac30a9d9183394701","modified":1618456025356},{"_id":"themes/butterfly/.github/ISSUE_TEMPLATE/custom.md","hash":"eff495eb1584cf4586e33c76e8b2fa6a469a179b","modified":1618456025356},{"_id":"themes/butterfly/.github/workflows/publish.yml","hash":"05857c2f265246d8de00e31037f2720709540c09","modified":1618456025356},{"_id":"themes/butterfly/.github/ISSUE_TEMPLATE/feature_request.md","hash":"f6867a2f0417fe89a0f2008730ee19dd38422021","modified":1618456025356},{"_id":"themes/butterfly/layout/includes/additional-js.pug","hash":"4156224c47bfc2482281ac4e4df701c30476ff00","modified":1618456025358},{"_id":"themes/butterfly/layout/includes/footer.pug","hash":"04117a04c829a97ac30a91b7fefa19b3a59964f1","modified":1642348512267},{"_id":"themes/butterfly/layout/includes/head.pug","hash":"aa105ea4eaecc951f7474b549b6ac0095a5fab1f","modified":1618456025359},{"_id":"themes/butterfly/layout/includes/pagination.pug","hash":"ec7ba875aaa2b95ab9d8256bd21c1e006bbe2820","modified":1618456025362},{"_id":"themes/butterfly/layout/includes/layout.pug","hash":"76d672c91f6bb6f20c6936e05067c42f7917ac61","modified":1618456025361},{"_id":"themes/butterfly/scripts/events/init.js","hash":"43b245c308797c2d62cb70429a85f1a05d3395ab","modified":1618456025383},{"_id":"themes/butterfly/scripts/events/welcome.js","hash":"d575137c8779e50422c2416f4d0832fdea346ee6","modified":1618456025383},{"_id":"themes/butterfly/scripts/events/404.js","hash":"3c30dbd8b910ce7d8d7d8353cf2266cbc5d8775d","modified":1618456025383},{"_id":"themes/butterfly/scripts/filters/post_lazyload.js","hash":"e9cf275c362d8634f093e63068da7ed1e53c7600","modified":1618456025384},{"_id":"themes/butterfly/scripts/helpers/aside_archives.js","hash":"2ec66513d5322f185d2071acc052978ba9415a8e","modified":1618456025384},{"_id":"themes/butterfly/scripts/filters/random_cover.js","hash":"9821872007cf57efae4b728dc575ef9d004547bb","modified":1618456025384},{"_id":"themes/butterfly/scripts/helpers/aside_categories.js","hash":"e00efdb5d02bc5c6eb4159e498af69fa61a7dbb9","modified":1618456025384},{"_id":"themes/butterfly/scripts/helpers/page.js","hash":"1da73cd47b78c6dbc3f04ce500d6cc5711c94412","modified":1618456025384},{"_id":"themes/butterfly/scripts/helpers/inject_head_js.js","hash":"81459adf885a15c6e9784bc2275c07efe67ab0b4","modified":1618456025384},{"_id":"themes/butterfly/scripts/helpers/related_post.js","hash":"0d8ba6120dce617a2a1fbc9167572db2ee9f22ef","modified":1618456025385},{"_id":"themes/butterfly/scripts/tag/button.js","hash":"e75283267f3a4773e6d803593d557e218396f260","modified":1618456025385},{"_id":"themes/butterfly/scripts/tag/gallery.js","hash":"94826ea6bcc4d2304199adae12c4e2b272caf529","modified":1618456025385},{"_id":"themes/butterfly/scripts/tag/inlineImg.js","hash":"a43ee2c7871bdd93cb6beb804429e404570f7929","modified":1618456025386},{"_id":"themes/butterfly/scripts/tag/hide.js","hash":"f33858ffb9e88191e644796e11d2f901eb332308","modified":1618456025385},{"_id":"themes/butterfly/scripts/tag/mermaid.js","hash":"35f073021db93699fcac9ef351e26c59c31aadf7","modified":1618456025386},{"_id":"themes/butterfly/scripts/tag/tabs.js","hash":"6c6e415623d0fd39da016d9e353bb4f5cca444f5","modified":1618456025386},{"_id":"themes/butterfly/scripts/tag/note.js","hash":"c16c6eb058af2b36bcd583b2591076c7ebdd51ad","modified":1618456025386},{"_id":"themes/butterfly/layout/includes/rightside.pug","hash":"2d0453adf92a3fd3466cf0793f14685d17b8b51d","modified":1618456025363},{"_id":"themes/butterfly/layout/includes/sidebar.pug","hash":"2b34e587030516afe2faf1a8cb20aebaead012f1","modified":1618456025363},{"_id":"themes/butterfly/source/css/var.styl","hash":"40c3f64422205a24e68ce1ad8fe8163f24fdd525","modified":1618456025394},{"_id":"themes/butterfly/source/img/algolia.svg","hash":"ec119560b382b2624e00144ae01c137186e91621","modified":1618456025394},{"_id":"themes/butterfly/source/css/index.styl","hash":"861998e4ac67a59529a8245a9130d68f826c9c12","modified":1618456025394},{"_id":"themes/butterfly/source/img/404.jpg","hash":"fb4489bc1d30c93d28f7332158c1c6c1416148de","modified":1618456025394},{"_id":"themes/butterfly/source/img/favicon.png","hash":"3cf89864b4f6c9b532522a4d260a2e887971c92d","modified":1618456025394},{"_id":"themes/butterfly/source/img/friend_404.gif","hash":"8d2d0ebef70a8eb07329f57e645889b0e420fa48","modified":1618456025395},{"_id":"themes/butterfly/source/img/loading.gif","hash":"5f0287fb8fb98872fe1998c6f781111819e71806","modified":1618456025395},{"_id":"themes/butterfly/source/js/main.js","hash":"8b670bed658cf879e37a12d9fda064cf4b55cc3f","modified":1618456025396},{"_id":"themes/butterfly/source/js/utils.js","hash":"41481019ef510c74e744f4f7ec4d0a13b5ccc04c","modified":1618456025397},{"_id":"themes/butterfly/source/js/tw_cn.js","hash":"00053ce73210274b3679f42607edef1206eebc68","modified":1618456025396},{"_id":"themes/butterfly/layout/includes/head/Open_Graph.pug","hash":"6c41f49a3e682067533dd9384e6e4511fc3a1349","modified":1618456025359},{"_id":"themes/butterfly/layout/includes/head/analytics.pug","hash":"90d01b88d0f406d00184960b1afe9230aec2ebe6","modified":1618456025359},{"_id":"themes/butterfly/layout/includes/head/config.pug","hash":"4def0aab9e2172ad1f29abd1535d8e08ff23aa0b","modified":1618456025359},{"_id":"themes/butterfly/layout/includes/head/config_site.pug","hash":"798dbbe9146e8e2379b39a49acf8c8a1eeabb8fb","modified":1618456025359},{"_id":"themes/butterfly/layout/includes/head/google_adsense.pug","hash":"95a37e92b39c44bcbea4be7e29ddb3921c5b8220","modified":1618456025359},{"_id":"themes/butterfly/layout/includes/head/noscript.pug","hash":"d16ad2ee0ff5751fd7f8a5ce1b83935518674977","modified":1618456025359},{"_id":"themes/butterfly/layout/includes/head/pwa.pug","hash":"3d492cfe645d37c94d30512e0b230b0a09913148","modified":1618456025360},{"_id":"themes/butterfly/layout/includes/head/site_verification.pug","hash":"62cf37e28795d8b68a0e850ec8c94987b9e08db5","modified":1618456025360},{"_id":"themes/butterfly/layout/includes/head/preconnect.pug","hash":"e55f8bdb876d5429a908498db1307b94094c0d06","modified":1618456025360},{"_id":"themes/butterfly/layout/includes/header/index.pug","hash":"44d231314d4bfffdb93096c1fa18d05de7293267","modified":1618456025360},{"_id":"themes/butterfly/layout/includes/header/nav.pug","hash":"c205b9fd72b2fe19e6d15c5b5ab0fb38c653032e","modified":1618456025360},{"_id":"themes/butterfly/layout/includes/loading/loading-js.pug","hash":"4cfcf0100e37ce91864703cd44f1cb99cb5493ea","modified":1618456025361},{"_id":"themes/butterfly/layout/includes/header/social.pug","hash":"0d953e51d04a9294a64153c89c20f491a9ec42d4","modified":1618456025361},{"_id":"themes/butterfly/layout/includes/header/post-info.pug","hash":"92f81a437c9db49f7ebcf608bc09488ecdb55a21","modified":1618456025361},{"_id":"themes/butterfly/layout/includes/mixins/article-sort.pug","hash":"68dfd3c6a0f00b3ffc0333c81e165b4626f7425f","modified":1618456025361},{"_id":"themes/butterfly/layout/includes/mixins/post-ui.pug","hash":"6058de23612ab1ed17d2ad93f5866d5f745135f0","modified":1618456025362},{"_id":"themes/butterfly/layout/includes/page/categories.pug","hash":"1f30952fed73dec21b42e2e30b7fe2e84618d2e4","modified":1618456025362},{"_id":"themes/butterfly/layout/includes/header/menu_item.pug","hash":"24370508ee87f14418e8f06e9d79ad8c52a342c4","modified":1618456025360},{"_id":"themes/butterfly/layout/includes/page/default-page.pug","hash":"dbec869c62135695495703a29ad7655e9965d461","modified":1618456025362},{"_id":"themes/butterfly/layout/includes/loading/loading.pug","hash":"5276937fbcceb9d62879dc47be880cd469a27349","modified":1618456025361},{"_id":"themes/butterfly/layout/includes/page/flink.pug","hash":"45f0d36b1ac686b5984909dae55d3c522f549c3a","modified":1618456025362},{"_id":"themes/butterfly/layout/includes/page/tags.pug","hash":"93d4ebc7dc8228c7a10ddeb5a553d0dcdabbe145","modified":1618456025362},{"_id":"themes/butterfly/layout/includes/post/post-copyright.pug","hash":"88e3b611b03149665e4113cfa39595c1a3fca7e5","modified":1618456025362},{"_id":"themes/butterfly/layout/includes/post/reward.pug","hash":"edebe930a2e3c4a4de5a35b9c1b1409cdd401372","modified":1618456025363},{"_id":"themes/butterfly/layout/includes/third-party/aplayer.pug","hash":"292646dfab135973b09f0fa9e3931e83da2ed30e","modified":1618456025363},{"_id":"themes/butterfly/layout/includes/third-party/effect.pug","hash":"b9d54a01d7c2a7a183cb7209e99430ce7fea1fe3","modified":1618456025367},{"_id":"themes/butterfly/layout/includes/third-party/pangu.pug","hash":"d5fec7dedc52ab23865fb4db002755e9bdaadc9f","modified":1618456025369},{"_id":"themes/butterfly/layout/includes/third-party/pjax.pug","hash":"5e3c9d25298ae3025b59dd4cb080259c0f8fab78","modified":1618456025369},{"_id":"themes/butterfly/layout/includes/third-party/prismjs.pug","hash":"1fbecfd299068f90d727f0c8c65e2a792fa6e3e2","modified":1618456025369},{"_id":"themes/butterfly/layout/includes/third-party/subtitle.pug","hash":"d50e5c22cd6bc3c378bc581918136746cfa3447f","modified":1618456025371},{"_id":"themes/butterfly/layout/includes/widget/card_ad.pug","hash":"60dc48a7b5d89c2a49123c3fc5893ab9c57dd225","modified":1618456025372},{"_id":"themes/butterfly/layout/includes/widget/card_announcement.pug","hash":"3d8e3706a056389176f55dd21956aabc78046761","modified":1618456025372},{"_id":"themes/butterfly/layout/includes/widget/card_categories.pug","hash":"d1a416d0a8a7916d0b1a41d73adc66f8c811e493","modified":1618456025372},{"_id":"themes/butterfly/layout/includes/widget/card_author.pug","hash":"3e4e83a41a444f7454ff682620369a8af1f960c9","modified":1618456025372},{"_id":"themes/butterfly/layout/includes/widget/card_archives.pug","hash":"86897010fe71503e239887fd8f6a4f5851737be9","modified":1618456025372},{"_id":"themes/butterfly/layout/includes/widget/card_newest_comment.pug","hash":"36b368516b5a746be84a6aa08767ee24d220d509","modified":1618456025372},{"_id":"themes/butterfly/layout/includes/widget/card_post_toc.pug","hash":"ae9336bf31cdad08ff586ead4295912a96563c76","modified":1618456025372},{"_id":"themes/butterfly/layout/includes/widget/card_recent_post.pug","hash":"e356f916ceb28702812d8f66c1fea0ae75eece47","modified":1618456025373},{"_id":"themes/butterfly/layout/includes/widget/card_self.pug","hash":"a1b2f5575b6804c5c4b9288db143b5164cbbd289","modified":1618456025373},{"_id":"themes/butterfly/layout/includes/widget/card_tags.pug","hash":"438aea3e713ed16b7559b9a80a9c5ec0221263df","modified":1618456025373},{"_id":"themes/butterfly/layout/includes/widget/card_webinfo.pug","hash":"0612aaee878f33ea8d3da0293c7dc3b6cd871466","modified":1618456025373},{"_id":"themes/butterfly/layout/includes/widget/index.pug","hash":"9e91f2543ab39815309268d07ae248a78887acf9","modified":1618456025373},{"_id":"themes/butterfly/source/css/_global/function.styl","hash":"eda47f3e807a466ba8275627ea936c5100c43818","modified":1618456025387},{"_id":"themes/butterfly/source/css/_global/index.styl","hash":"6ba9dcda7ff1ceda4e07c8c08517259e8b7dbcd5","modified":1618456025387},{"_id":"themes/butterfly/source/css/_highlight/highlight.styl","hash":"ce3d0c8984c8a46e3c8e1727806bb4d37ff3e2d4","modified":1618456025387},{"_id":"themes/butterfly/source/css/_highlight/theme.styl","hash":"fa7a4c1685f391d60ed863e869b9604b59746c27","modified":1618456025389},{"_id":"themes/butterfly/source/css/_layout/404.styl","hash":"d6548e332e6e57e2a7ba2eb53cdd838c3cd1846d","modified":1618456025389},{"_id":"themes/butterfly/source/css/_layout/aside.styl","hash":"6317bc18152e474b8faa7994fc5fbc3c9e455a84","modified":1618456025389},{"_id":"themes/butterfly/source/css/_layout/chat.styl","hash":"29f48f9370f245e6e575b5836bccf47eb5688d8b","modified":1618456025389},{"_id":"themes/butterfly/source/css/_layout/footer.styl","hash":"dd8cdf639ba2b726437c77fa7aa8d5edbabe8f9b","modified":1618456025389},{"_id":"themes/butterfly/source/css/_layout/comments.styl","hash":"f1b63892baafa48ab872bc79671d57aafd511f6c","modified":1618456025389},{"_id":"themes/butterfly/source/css/_layout/loading.styl","hash":"7d18a7be9cfea65091de3ef00014063d2d649912","modified":1618456025390},{"_id":"themes/butterfly/source/css/_layout/pagination.styl","hash":"90fe01c968696a9f791cb2b84fca621cbbb56f47","modified":1618456025390},{"_id":"themes/butterfly/source/css/_layout/post.styl","hash":"e639219e12069f9a71c8f325364a8f656454b999","modified":1618456025390},{"_id":"themes/butterfly/source/css/_layout/head.styl","hash":"b09e3a834ab8389f731bee5703b86e8aea27cda8","modified":1618456025390},{"_id":"themes/butterfly/source/css/_layout/reward.styl","hash":"ea1ba40dd5954c2ed718a126336fb7f94da4e66f","modified":1618456025390},{"_id":"themes/butterfly/source/css/_layout/relatedposts.styl","hash":"0551c5893d1589a3d17ce161e50ecb1d724cc6e8","modified":1618456025390},{"_id":"themes/butterfly/source/css/_layout/rightside.styl","hash":"7a072589e6097dbe942783131964f2372fdf1eb6","modified":1618456025390},{"_id":"themes/butterfly/source/css/_layout/sidebar.styl","hash":"7a6e1f21173022a3a1f18a62785cdd657a1af0a1","modified":1618456025391},{"_id":"themes/butterfly/source/css/_layout/third-party.styl","hash":"788a28f68e29fad5328dc03be2f3268324281652","modified":1618456025391},{"_id":"themes/butterfly/source/css/_mode/darkmode.styl","hash":"d7717ce0c061b2471bf1a366c1a81158af266417","modified":1618456025391},{"_id":"themes/butterfly/source/css/_mode/readmode.styl","hash":"c2d35443807a121e20c7ac3c1caa50f848bacd59","modified":1618456025391},{"_id":"themes/butterfly/source/css/_page/archives.styl","hash":"6874adc2e276443f354bbe50d0072e9bec37243c","modified":1618456025391},{"_id":"themes/butterfly/source/css/_page/categories.styl","hash":"e554549f0a0ae85362f0b0e8687981741f486f6b","modified":1618456025391},{"_id":"themes/butterfly/source/css/_page/common.styl","hash":"a6f8637e90e44e23338209d4a3438e3e67766971","modified":1618456025392},{"_id":"themes/butterfly/source/css/_page/flink.styl","hash":"d60b7a94a7adeac489b8c1afdf7e679994829742","modified":1618456025392},{"_id":"themes/butterfly/source/css/_page/homepage.styl","hash":"7c4152162a03aa8331a783df5695e4ebbb816a8c","modified":1618456025392},{"_id":"themes/butterfly/source/css/_search/algolia.styl","hash":"6b05ca4409d2dc09e123af4e0af9f9d0f7142b73","modified":1618456025392},{"_id":"themes/butterfly/source/css/_page/tags.styl","hash":"9a881c031f463c486bd25248c2814fd09f97892b","modified":1618456025392},{"_id":"themes/butterfly/source/css/_search/index.styl","hash":"89e744abc5e41f4855e7b87b13b854f4ec4ffc0e","modified":1618456025392},{"_id":"themes/butterfly/source/css/_search/local-search.styl","hash":"51f2bd03a2d0787911d0c090fb555a664b3fac8b","modified":1618456025392},{"_id":"themes/butterfly/source/css/_tags/button.styl","hash":"a7fc7624a8d893bdf9444f14154484c29c790e99","modified":1618456025393},{"_id":"themes/butterfly/source/css/_tags/hexo.styl","hash":"d0386ba6d8d63afc72b9673e8f3e89df6446ffc2","modified":1618456025393},{"_id":"themes/butterfly/source/css/_tags/gallery.styl","hash":"53ecae272e16223a436c497abbf25dd5f0fc4aaa","modified":1618456025393},{"_id":"themes/butterfly/source/css/_tags/hide.styl","hash":"21964fdd6d74ffbea519418bab65024aee5f3736","modified":1618456025393},{"_id":"themes/butterfly/source/css/_tags/inlineImg.styl","hash":"df9d405c33a9a68946b530410f64096bcb72560c","modified":1618456025393},{"_id":"themes/butterfly/source/css/_tags/note.styl","hash":"86fee274a62f7f034547342930f445c47378eb55","modified":1618456025393},{"_id":"themes/butterfly/source/css/_tags/tabs.styl","hash":"1756791581c0ec51cb03353a09dac4778d944349","modified":1618456025393},{"_id":"themes/butterfly/source/css/_third-party/normalize.min.css","hash":"2c18a1c9604af475b4749def8f1959df88d8b276","modified":1618456025394},{"_id":"themes/butterfly/source/js/search/algolia.js","hash":"65b45e61586f7e66c3f338370bfd9daadd71a4b7","modified":1618456025396},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/disqus.pug","hash":"d85c3737b5c9548553a78b757a7698df126a52cf","modified":1618456025364},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/fb.pug","hash":"7848ec58c6ec03243abf80a3b22b4dc10f3edf53","modified":1618456025364},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/index.pug","hash":"e3bf847553515174f6085df982f0623e9783db7a","modified":1618456025364},{"_id":"themes/butterfly/source/js/search/local-search.js","hash":"459e2541afda483916d16fce4aaa56b41bcd42ba","modified":1618456025396},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/twikoo.pug","hash":"ef1b2b5b980d6aeaa5d06b97d1afc9644b155a16","modified":1618456025364},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/valine.pug","hash":"bba9871f446c10ffcc8fa9023f5a2eb701a86bae","modified":1618456025364},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/waline.pug","hash":"76c061a16d7e5935f02acd27c6cdb4933c642b97","modified":1618456025364},{"_id":"themes/butterfly/layout/includes/third-party/chat/chatra.pug","hash":"481cd5053bafb1a19f623554a27d3aa077ea59c3","modified":1618456025364},{"_id":"themes/butterfly/layout/includes/third-party/chat/crisp.pug","hash":"76634112c64023177260d1317ae39cef2a68e35f","modified":1618456025365},{"_id":"themes/butterfly/layout/includes/third-party/chat/daovoice.pug","hash":"cfe63e7d26a6665df6aa32ca90868ad48e05ec04","modified":1618456025365},{"_id":"themes/butterfly/layout/includes/third-party/chat/index.pug","hash":"3f05f8311ae559d768ee3d0925e84ed767c314d3","modified":1618456025365},{"_id":"themes/butterfly/layout/includes/third-party/chat/gitter.pug","hash":"d1d2474420bf4edc2e43ccdff6f92b8b082143df","modified":1618456025365},{"_id":"themes/butterfly/layout/includes/third-party/chat/tidio.pug","hash":"24a926756c2300b9c561aaab6bd3a71fdd16e16d","modified":1618456025365},{"_id":"themes/butterfly/layout/includes/third-party/comments/disqus.pug","hash":"a111407fdcafcf1099e26ffa69786f8822c5d9fb","modified":1618456025365},{"_id":"themes/butterfly/layout/includes/third-party/comments/facebook_comments.pug","hash":"353ebd0bdecdfde6dee32c3aa208cc87c72b15c0","modified":1618456025366},{"_id":"themes/butterfly/layout/includes/third-party/comments/disqusjs.pug","hash":"fd68563e649bd95529d4b3a828e430a9997f66ee","modified":1618456025366},{"_id":"themes/butterfly/layout/includes/third-party/comments/gitalk.pug","hash":"0b7571919e8ad51285deda56a1868fccf8c563d7","modified":1618456025366},{"_id":"themes/butterfly/layout/includes/third-party/comments/index.pug","hash":"da9813f8dc0d388869c15413cf056012cfb69e1a","modified":1618456025366},{"_id":"themes/butterfly/layout/includes/third-party/comments/livere.pug","hash":"52ea8aa26b84d3ad38ae28cdf0f163e9ca8dced7","modified":1618456025366},{"_id":"themes/butterfly/layout/includes/third-party/comments/js.pug","hash":"bafb3d5710824caa59a56017afb058fd2b4eac65","modified":1618456025366},{"_id":"themes/butterfly/layout/includes/third-party/comments/utterances.pug","hash":"b871ea208e36398b4d668db9a9a0b61c79415381","modified":1618456025367},{"_id":"themes/butterfly/layout/includes/third-party/comments/twikoo.pug","hash":"16378d8646ea3f4ac99c18f0296dd85b13f9d775","modified":1618456025367},{"_id":"themes/butterfly/layout/includes/third-party/comments/valine.pug","hash":"2b45fe09d5b591dca156b76dae99981f8d8e1c61","modified":1618456025367},{"_id":"themes/butterfly/layout/includes/third-party/comments/waline.pug","hash":"87b097f791f56ca17319657de7901853b798555d","modified":1618456025367},{"_id":"themes/butterfly/layout/includes/third-party/math/index.pug","hash":"b8ae5fd7d74e1edcef21f5004fc96147e064d219","modified":1618456025367},{"_id":"themes/butterfly/layout/includes/third-party/math/katex.pug","hash":"21b7ec96c606823d3d72e72775495ef77502b4cb","modified":1618456025367},{"_id":"themes/butterfly/layout/includes/third-party/math/mathjax.pug","hash":"4afc12ce42d067fa4012039aa444343a36f73599","modified":1618456025368},{"_id":"themes/butterfly/layout/includes/third-party/math/mermaid.pug","hash":"3f3a3cd8bea2103dedd754f767aca5cb84d5f586","modified":1618456025368},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/disqus-comment.pug","hash":"9820d731bb66a1d9c2e0083361d0c99c68c93fdf","modified":1618456025368},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/github-issues.pug","hash":"a91df377d8ac227ff210cc5d0295648ba9daf6ed","modified":1618456025368},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/index.pug","hash":"18dcf05ab58107bbff426376aef2577f59583fc2","modified":1618456025368},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/twikoo-comment.pug","hash":"cb38ffe911023092a90a28f2ba8317a92b22cd0c","modified":1618456025368},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/valine.pug","hash":"59b4c26a827ace5a54855881d199977103ff6f50","modified":1618456025368},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/waline.pug","hash":"9657b1b08ff3f98e49ca250ed47a81b8b202ac7a","modified":1618456025369},{"_id":"themes/butterfly/layout/includes/third-party/search/algolia.pug","hash":"d8f59e94eafc669c49349561dc5bbea3915aecb7","modified":1618456025370},{"_id":"themes/butterfly/layout/includes/third-party/search/local-search.pug","hash":"613280d61b8ab9612014ec016ae3d3698d36fd1a","modified":1618456025370},{"_id":"themes/butterfly/layout/includes/third-party/share/addtoany.pug","hash":"309f51bc5302e72fc469d54c577fbcfe57fb07a8","modified":1618456025371},{"_id":"themes/butterfly/layout/includes/third-party/share/index.pug","hash":"4c4a9c15215ae8ac5eadb0e086b278f76db9ee92","modified":1618456025371},{"_id":"themes/butterfly/layout/includes/third-party/share/share-js.pug","hash":"006acc91ce25fc7c7d778ca043e970f57dc46b83","modified":1618456025371},{"_id":"themes/butterfly/layout/includes/third-party/search/index.pug","hash":"da3b9437d061ee68dbc383057db5c73034c49605","modified":1618456025370},{"_id":"themes/butterfly/source/css/_highlight/highlight/diff.styl","hash":"8c0726fb8d9a497d2f900b0be2845efaa68e3d87","modified":1618456025388},{"_id":"themes/butterfly/source/css/_highlight/highlight/index.styl","hash":"89cbcc8e087788ecec18b5fa58710afacdb7d080","modified":1618456025388},{"_id":"themes/butterfly/source/css/_highlight/prismjs/index.styl","hash":"e0e7065124ef0d99f8322a47bc47838982e04ad0","modified":1618456025388},{"_id":"themes/butterfly/source/css/_highlight/prismjs/line-number.styl","hash":"8970cc1916c982b64a1478792b2822d1d31e276d","modified":1618456025388},{"_id":"themes/butterfly/layout/includes/third-party/share/add-this.pug","hash":"2980f1889226ca981aa23b8eb1853fde26dcf89a","modified":1618456025371},{"_id":"themes/butterfly/source/css/_highlight/prismjs/diff.styl","hash":"5972c61f5125068cbe0af279a0c93a54847fdc3b","modified":1618456025388},{"_id":"public/atom.xml","hash":"e3cc11c495db17a4601ab69ef96d068c06079f6f","modified":1641790129177},{"_id":"public/content.json","hash":"86e1893d2c7c93b931c0bb317af911d3d8a04326","modified":1641790129177},{"_id":"public/search.xml","hash":"b1cc0ca365bd44962255e7630e0e4d2c837e5a59","modified":1641790129177},{"_id":"public/categories/index.html","hash":"84dab93738c017fe6b1e7cf2cf12cf48c4eaa242","modified":1642348515764},{"_id":"public/tags/index.html","hash":"92a079debb127b9865cdc757b5354fc5646ed4c9","modified":1642348515764},{"_id":"public/2020/03/24/给外网nextcloud设置服务器地址/index.html","hash":"159bf3b9fc7a371fb28392e1742072b28abc883e","modified":1642348515764},{"_id":"public/2020/08/03/vue中不同样式写法的优先级/index.html","hash":"4a508996848b6bc903adb5dcffaa5d926ec30896","modified":1642348515764},{"_id":"public/2020/10/29/gitbook搭建一个简单的faq网站/index.html","hash":"37ee534c306f6ff47a6a37002ac282a9d9a91429","modified":1642348515764},{"_id":"public/2020/04/21/quill-image-resize-module 踩坑/index.html","hash":"fae7a061ca83368ae5896846763356aa002f9adf","modified":1642348515764},{"_id":"public/2019/05/23/退出页面时提示（vue）/index.html","hash":"a5639b717423702bb416bcecaf106741af286fc6","modified":1642348515764},{"_id":"public/2019/11/04/移动端h5中viewpoint的使用/index.html","hash":"a952dbbdc20799dc89e5fe0b07be3b8e575800d2","modified":1642348515764},{"_id":"public/2019/10/30/前端一次编译多环境部署/index.html","hash":"b0ecb7d928ef4e250e1c676f3b393201d3e416b1","modified":1642348515764},{"_id":"public/2019/08/04/ssh 长链接/index.html","hash":"4b517ec8ebbb328a6340b89e7f486975ed2292e3","modified":1642348515764},{"_id":"public/2019/02/02/mac下使用plist实现定时任务/index.html","hash":"059c96ae73653164c3994fde6a517fdeb537bb18","modified":1642348515764},{"_id":"public/archives/index.html","hash":"9842e314746f0f7cf41bbe2ab82d46a047562b2e","modified":1642348515764},{"_id":"public/archives/page/2/index.html","hash":"eb6c4cc97b323ccb2c0ba752cb722045cdafd356","modified":1642348515764},{"_id":"public/archives/2019/index.html","hash":"3e887510be267df6ff0693d85d6538e9929231ee","modified":1642348515764},{"_id":"public/archives/2019/02/index.html","hash":"2d4a559d02017852527ba8d661c6d6c508101b83","modified":1642348515764},{"_id":"public/archives/2019/05/index.html","hash":"f4bfc5d9f68a676b87a012465fb7dadc6b7b339e","modified":1642348515764},{"_id":"public/archives/2019/08/index.html","hash":"fc066cb65a2a75214108138399eff9d549e27ea1","modified":1642348515764},{"_id":"public/archives/2019/10/index.html","hash":"074066fd62ae1c727611bd92ee1c03b396c5bb3d","modified":1642348515764},{"_id":"public/archives/2019/11/index.html","hash":"ce9a30ed26a85d373c459ba61743f233f2415da1","modified":1642348515764},{"_id":"public/archives/2020/index.html","hash":"552d05734f6126dd2030f6a57e39d19813ea8047","modified":1642348515764},{"_id":"public/archives/2020/03/index.html","hash":"ed2178e8c725883ea714bd8854b3390b58bbd185","modified":1642348515764},{"_id":"public/archives/2020/04/index.html","hash":"1f2d0d60f8c86e778162ecf12c75b06af6c6b6db","modified":1642348515764},{"_id":"public/archives/2020/08/index.html","hash":"2f15ee77c8c86119cd012892b5f8bbcf7ca6c2b6","modified":1642348515764},{"_id":"public/2019/02/02/opentWrt-流量控制tc/index.html","hash":"d0da1aaa5ee71ecd90d9b8e2911f0297008436c2","modified":1642348515764},{"_id":"public/2019/02/01/zsh自定义/index.html","hash":"3e37ba1a034a510ddaea32161e20d24fb422f70d","modified":1642348515764},{"_id":"public/2019/02/01/ui_automonkey/index.html","hash":"3412a812b954a8140f9b1ae1a0cfca843a46e788","modified":1642348515764},{"_id":"public/archives/2020/10/index.html","hash":"0de446bac768e8037af1b534f3f3230422be09e4","modified":1642348515764},{"_id":"public/index.html","hash":"13e977bb7dab74895fd4ab4a726345b8a7dab82e","modified":1642348515764},{"_id":"public/page/2/index.html","hash":"a823ad33cdc24e692d0bbfdcb118762f3949cb4e","modified":1642348515764},{"_id":"public/categories/ssh/index.html","hash":"b16d981c11f36fe833790e9dc8083f930be088a4","modified":1642348515764},{"_id":"public/categories/vuejs/index.html","hash":"8d628f5bc5b8f3d96e795699c8522dedaf78bf15","modified":1642348515764},{"_id":"public/tags/gitbook/index.html","hash":"bb24fd8f0c10c3d38bc0594e72a3068d38acd804","modified":1642348515764},{"_id":"public/tags/faq/index.html","hash":"1d214108d291750cafb05156054891504b2d091d","modified":1642348515764},{"_id":"public/tags/ssh/index.html","hash":"1b2962b21109051a88c29c0ce81d3619cf54f33b","modified":1642348515764},{"_id":"public/categories/自动化/index.html","hash":"ad6f56c88658a0a6a7eb6997e81926194b1988a1","modified":1642348515764},{"_id":"public/categories/linux/index.html","hash":"6d8eecd81c9c2f0af993f88c0815e1933943114f","modified":1642348515764},{"_id":"public/tags/mac/index.html","hash":"d402279709bf0598d8ac6aa92ead2683e8d796b1","modified":1642348515764},{"_id":"public/tags/tc/index.html","hash":"c4f59137c7a30ca2d3c26cef007e186ae3c1560b","modified":1642348515764},{"_id":"public/tags/openwrt/index.html","hash":"b78d99048c84e0b0fa27047b269cf85771425618","modified":1642348515764},{"_id":"public/tags/ios/index.html","hash":"1957ee5bbb6ee47689a1090b3bc4e635e870b333","modified":1642348515764},{"_id":"public/tags/ui-automation/index.html","hash":"752de260e0235e83d1f659fda1840853a0925e14","modified":1642348515764},{"_id":"public/tags/quill-image-resize-module/index.html","hash":"f51ce68ba48527ddba081c6ee531063405bd11f6","modified":1642348515764},{"_id":"public/tags/automation/index.html","hash":"3b4337b93aa0386e3e7018c64de69db37c2768a2","modified":1642348515764},{"_id":"public/tags/zsh/index.html","hash":"1dbf9a75739945f0d2b4e4a9e97cccb8286234d5","modified":1642348515764},{"_id":"public/tags/vue/index.html","hash":"601685e9ba3851821bca7cf9c37b01b3611d77df","modified":1642348515764},{"_id":"public/tags/css/index.html","hash":"280d2fab048c976be626ef8451d26cf88f492ee2","modified":1642348515764},{"_id":"public/tags/proxy/index.html","hash":"6316dba369ccb83e54d6e12132fa492c93a65c83","modified":1642348515764},{"_id":"public/tags/nextcloud/index.html","hash":"15e53614ffd0c718d5d49eb1509eb38b7cbf6859","modified":1642348515764},{"_id":"public/tags/html5/index.html","hash":"b271b03de7b24fdfa928dad7aa832bb5f8d98b31","modified":1642348515764},{"_id":"public/tags/viewpoint/index.html","hash":"1872cd852a2461b75fbc9cb19a9a97f130ef9663","modified":1642348515764},{"_id":"public/img/404.jpg","hash":"fb4489bc1d30c93d28f7332158c1c6c1416148de","modified":1642347266430},{"_id":"public/img/friend_404.gif","hash":"8d2d0ebef70a8eb07329f57e645889b0e420fa48","modified":1642347266430},{"_id":"public/img/algolia.svg","hash":"ec119560b382b2624e00144ae01c137186e91621","modified":1642347266430},{"_id":"public/img/loading.gif","hash":"5f0287fb8fb98872fe1998c6f781111819e71806","modified":1642347266430},{"_id":"public/images/wechat.jpg","hash":"a72d12cb228e648a13d0182a937b03bed3d07203","modified":1642347266430},{"_id":"public/images/home.jpeg","hash":"5b11fefcd2e8f5a43b9e52bd83de14d22c5b38e8","modified":1642347266430},{"_id":"public/images/alipay.jpg","hash":"b20fe993a0442de0f9ceab79fed8f725135e2792","modified":1642347266430},{"_id":"public/css/var.css","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1642347266430},{"_id":"public/css/index.css","hash":"49f0fd520d08f34006ff369bdc3f744fbceee38c","modified":1642347266430},{"_id":"public/js/search/algolia.js","hash":"65b45e61586f7e66c3f338370bfd9daadd71a4b7","modified":1642347266430},{"_id":"public/js/utils.js","hash":"41481019ef510c74e744f4f7ec4d0a13b5ccc04c","modified":1642347266430},{"_id":"public/js/search/local-search.js","hash":"459e2541afda483916d16fce4aaa56b41bcd42ba","modified":1642347266430},{"_id":"public/js/tw_cn.js","hash":"00053ce73210274b3679f42607edef1206eebc68","modified":1642347266430},{"_id":"public/images/eva.png","hash":"f22c5f47f45bfdbfbabd946bab61b3e252cdae0f","modified":1642347266430},{"_id":"source/_posts/树莓派电子相册-软件篇.md","hash":"2a84931049cc4113cdf6baf30995ff7159f0c44a","modified":1641789885205},{"_id":"source/images/展示1.jpg","hash":"3ecd17e2d0261b9f13438b8083a0e8092ed6bf3c","modified":1641789587593},{"_id":"public/2022/01/10/树莓派电子相册-软件篇/index.html","hash":"b64d8958c08c90616f17726718f9a61f1b64cc40","modified":1641789738429},{"_id":"public/archives/2022/index.html","hash":"23e1af0f8f91dc7b139b789ec15366f6531e0f1d","modified":1642348515764},{"_id":"public/archives/2022/01/index.html","hash":"0c5b60bb3b53fe209ccdb542e1fd52a42a6f2cc9","modified":1642348515764},{"_id":"public/images/pasted-0.png","hash":"3bcbf5b059ac2630f0fd4f5924a492f16b2fbd6b","modified":1642347266430},{"_id":"public/img/favicon.png","hash":"3cf89864b4f6c9b532522a4d260a2e887971c92d","modified":1642347266430},{"_id":"public/images/server-url.png","hash":"7bda7fb3575fd81666665352b305aa7a31f12317","modified":1642347266430},{"_id":"public/images/展示1.jpg","hash":"3ecd17e2d0261b9f13438b8083a0e8092ed6bf3c","modified":1642347266430},{"_id":"public/js/main.js","hash":"8b670bed658cf879e37a12d9fda064cf4b55cc3f","modified":1642347266430},{"_id":"public/images/WX20200807-102652.png","hash":"85cdc181727e9aa7944b839b6fbc0558a0c4891f","modified":1642347266430},{"_id":"public/images/avatar.jpg","hash":"eaf6733163a316a562806aa2a5137abcab44edf2","modified":1642347266430},{"_id":"public/2022/01/09/树莓派电子相册-软件篇/index.html","hash":"f3ef7a56056e58fdde5b0446b1b26f3856d87f4a","modified":1642348515764},{"_id":"public/tags/raspberry-pi/index.html","hash":"9f339c0c36f592895f110c1a34c9bc78563019d8","modified":1642348515764},{"_id":"public/tags/feh/index.html","hash":"3914852cf107cc70d49c3db9dd715b8fb3609b89","modified":1642348515764},{"_id":"source/images/beian.png","hash":"29c400bc3b89f6085766dac4e0330ded5cb73d52","modified":1642348259578},{"_id":"public/images/beian.png","hash":"29c400bc3b89f6085766dac4e0330ded5cb73d52","modified":1642348305345}],"Category":[{"name":"ssh","_id":"ckniaipw00005lspapyyc2ztb"},{"name":"自动化","_id":"ckniaipw3000alspajkcwti1t"},{"name":"vuejs","_id":"ckniaipw5000glspaw25yq1vh"},{"name":"linux","_id":"ckniaipw5000klspakvggw2vo"}],"Data":[],"Page":[{"title":"分类","date":"2021-03-20T15:03:13.000Z","_content":"","source":"categories/index.md","raw":"---\ntitle: 分类\ndate: 2021-03-20 23:03:13\n---\n","updated":"2021-04-15T02:54:45.822Z","path":"categories/index.html","comments":1,"layout":"page","_id":"ckniaipwc0019lspaw1mnklib","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"标签","date":"2021-03-20T15:07:36.000Z","_content":"","source":"tags/index.md","raw":"---\ntitle: 标签\ndate: 2021-03-20 23:07:36\n---\n","updated":"2021-04-15T02:54:45.827Z","path":"tags/index.html","comments":1,"layout":"page","_id":"ckniaipwg001blspazgpfrbhf","content":"","site":{"data":{}},"excerpt":"","more":""}],"Post":[{"title":"gitbook搭建一个简单的faq网站","author":"weihai","date":"2020-10-29T01:47:00.000Z","_content":"这篇写于很久以前，现在gitbook已经发生了巨大的变化。\n谨以此篇，留作纪念。\n\n### 1. npm安装gitbook-cli\n\n> npm install -g gitbook-cli\n\n### 2. 新建一个项目目录，进到目录里执行\n\n> gitbook init\n\n### 3. 新建book.json（这是配置文件），加入faq主题\n\n> {\t\"plugins\":[\"theme-faq\"]}\n\n### 4. 再加入中文搜索功能\n\n> {\"plugins\":[\"theme-faq\", \"-lunr\", \"search-jieba\"]}\n\n### 5. 加入插件后需要执行\n\n> gitbook install \n\n### 6. 启动服务\n\n> gitbook serve\n\n### 7. 启动后访问localhost:4000，页面样式就像这样\n\n![输入文字开始搜索](http://img.blog.csdn.net/20170105203323433?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdHdoX2Vhc3Q=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n\n### 8. Gitbook Editor很好用，可以添加、管理文章\n\n-------\n\n## 有一些坑： \n\n- 官网上说最多可以添加100篇文章，可能是说在线gitbook，具体需要尝试 - 中文搜索由于分词的关系，搜索单字时效果不好 \n\n- 搜索框内输入过快、或者说快速变化输入的单词时，搜索的结果和预期的不一样 \n\n- README会显示在搜索框下方，不显示在文章列表里，但是下面第一部分的文章数量又包含了README，强迫症很纠结 \n\n\n----\n参考：\n\nhttps://www.gitbook.com/\n\nhttps://plugins.gitbook.com/\n\nhttps://help.gitbook.com/\n\nhttps://plugins.gitbook.com/plugin/search-jieba","source":"_posts/gitbook搭建一个简单的faq网站.md","raw":"title: gitbook搭建一个简单的faq网站\nauthor: weihai\ntags:\n  - gitbook\n  - faq\ncategories: []\ndate: 2020-10-29 09:47:00\n---\n这篇写于很久以前，现在gitbook已经发生了巨大的变化。\n谨以此篇，留作纪念。\n\n### 1. npm安装gitbook-cli\n\n> npm install -g gitbook-cli\n\n### 2. 新建一个项目目录，进到目录里执行\n\n> gitbook init\n\n### 3. 新建book.json（这是配置文件），加入faq主题\n\n> {\t\"plugins\":[\"theme-faq\"]}\n\n### 4. 再加入中文搜索功能\n\n> {\"plugins\":[\"theme-faq\", \"-lunr\", \"search-jieba\"]}\n\n### 5. 加入插件后需要执行\n\n> gitbook install \n\n### 6. 启动服务\n\n> gitbook serve\n\n### 7. 启动后访问localhost:4000，页面样式就像这样\n\n![输入文字开始搜索](http://img.blog.csdn.net/20170105203323433?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdHdoX2Vhc3Q=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n\n### 8. Gitbook Editor很好用，可以添加、管理文章\n\n-------\n\n## 有一些坑： \n\n- 官网上说最多可以添加100篇文章，可能是说在线gitbook，具体需要尝试 - 中文搜索由于分词的关系，搜索单字时效果不好 \n\n- 搜索框内输入过快、或者说快速变化输入的单词时，搜索的结果和预期的不一样 \n\n- README会显示在搜索框下方，不显示在文章列表里，但是下面第一部分的文章数量又包含了README，强迫症很纠结 \n\n\n----\n参考：\n\nhttps://www.gitbook.com/\n\nhttps://plugins.gitbook.com/\n\nhttps://help.gitbook.com/\n\nhttps://plugins.gitbook.com/plugin/search-jieba","slug":"gitbook搭建一个简单的faq网站","published":1,"updated":"2020-10-29T06:40:54.063Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckniaipvr0000lspaptwr6lwe","content":"<p>这篇写于很久以前，现在gitbook已经发生了巨大的变化。<br>谨以此篇，留作纪念。</p>\n<h3 id=\"1-npm安装gitbook-cli\"><a href=\"#1-npm安装gitbook-cli\" class=\"headerlink\" title=\"1. npm安装gitbook-cli\"></a>1. npm安装gitbook-cli</h3><blockquote>\n<p>npm install -g gitbook-cli</p>\n</blockquote>\n<h3 id=\"2-新建一个项目目录，进到目录里执行\"><a href=\"#2-新建一个项目目录，进到目录里执行\" class=\"headerlink\" title=\"2. 新建一个项目目录，进到目录里执行\"></a>2. 新建一个项目目录，进到目录里执行</h3><blockquote>\n<p>gitbook init</p>\n</blockquote>\n<h3 id=\"3-新建book-json（这是配置文件），加入faq主题\"><a href=\"#3-新建book-json（这是配置文件），加入faq主题\" class=\"headerlink\" title=\"3. 新建book.json（这是配置文件），加入faq主题\"></a>3. 新建book.json（这是配置文件），加入faq主题</h3><blockquote>\n<p>{    “plugins”:[“theme-faq”]}</p>\n</blockquote>\n<h3 id=\"4-再加入中文搜索功能\"><a href=\"#4-再加入中文搜索功能\" class=\"headerlink\" title=\"4. 再加入中文搜索功能\"></a>4. 再加入中文搜索功能</h3><blockquote>\n<p>{“plugins”:[“theme-faq”, “-lunr”, “search-jieba”]}</p>\n</blockquote>\n<h3 id=\"5-加入插件后需要执行\"><a href=\"#5-加入插件后需要执行\" class=\"headerlink\" title=\"5. 加入插件后需要执行\"></a>5. 加入插件后需要执行</h3><blockquote>\n<p>gitbook install </p>\n</blockquote>\n<h3 id=\"6-启动服务\"><a href=\"#6-启动服务\" class=\"headerlink\" title=\"6. 启动服务\"></a>6. 启动服务</h3><blockquote>\n<p>gitbook serve</p>\n</blockquote>\n<h3 id=\"7-启动后访问localhost-4000，页面样式就像这样\"><a href=\"#7-启动后访问localhost-4000，页面样式就像这样\" class=\"headerlink\" title=\"7. 启动后访问localhost:4000，页面样式就像这样\"></a>7. 启动后访问localhost:4000，页面样式就像这样</h3><p><img src=\"http://img.blog.csdn.net/20170105203323433?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdHdoX2Vhc3Q=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"输入文字开始搜索\"></p>\n<h3 id=\"8-Gitbook-Editor很好用，可以添加、管理文章\"><a href=\"#8-Gitbook-Editor很好用，可以添加、管理文章\" class=\"headerlink\" title=\"8. Gitbook Editor很好用，可以添加、管理文章\"></a>8. Gitbook Editor很好用，可以添加、管理文章</h3><hr>\n<h2 id=\"有一些坑：\"><a href=\"#有一些坑：\" class=\"headerlink\" title=\"有一些坑：\"></a>有一些坑：</h2><ul>\n<li><p>官网上说最多可以添加100篇文章，可能是说在线gitbook，具体需要尝试 - 中文搜索由于分词的关系，搜索单字时效果不好 </p>\n</li>\n<li><p>搜索框内输入过快、或者说快速变化输入的单词时，搜索的结果和预期的不一样 </p>\n</li>\n<li><p>README会显示在搜索框下方，不显示在文章列表里，但是下面第一部分的文章数量又包含了README，强迫症很纠结 </p>\n</li>\n</ul>\n<hr>\n<p>参考：</p>\n<p><a href=\"https://www.gitbook.com/\" target=\"_blank\" rel=\"noopener\">https://www.gitbook.com/</a></p>\n<p><a href=\"https://plugins.gitbook.com/\" target=\"_blank\" rel=\"noopener\">https://plugins.gitbook.com/</a></p>\n<p><a href=\"https://help.gitbook.com/\" target=\"_blank\" rel=\"noopener\">https://help.gitbook.com/</a></p>\n<p><a href=\"https://plugins.gitbook.com/plugin/search-jieba\" target=\"_blank\" rel=\"noopener\">https://plugins.gitbook.com/plugin/search-jieba</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>这篇写于很久以前，现在gitbook已经发生了巨大的变化。<br>谨以此篇，留作纪念。</p>\n<h3 id=\"1-npm安装gitbook-cli\"><a href=\"#1-npm安装gitbook-cli\" class=\"headerlink\" title=\"1. npm安装gitbook-cli\"></a>1. npm安装gitbook-cli</h3><blockquote>\n<p>npm install -g gitbook-cli</p>\n</blockquote>\n<h3 id=\"2-新建一个项目目录，进到目录里执行\"><a href=\"#2-新建一个项目目录，进到目录里执行\" class=\"headerlink\" title=\"2. 新建一个项目目录，进到目录里执行\"></a>2. 新建一个项目目录，进到目录里执行</h3><blockquote>\n<p>gitbook init</p>\n</blockquote>\n<h3 id=\"3-新建book-json（这是配置文件），加入faq主题\"><a href=\"#3-新建book-json（这是配置文件），加入faq主题\" class=\"headerlink\" title=\"3. 新建book.json（这是配置文件），加入faq主题\"></a>3. 新建book.json（这是配置文件），加入faq主题</h3><blockquote>\n<p>{    “plugins”:[“theme-faq”]}</p>\n</blockquote>\n<h3 id=\"4-再加入中文搜索功能\"><a href=\"#4-再加入中文搜索功能\" class=\"headerlink\" title=\"4. 再加入中文搜索功能\"></a>4. 再加入中文搜索功能</h3><blockquote>\n<p>{“plugins”:[“theme-faq”, “-lunr”, “search-jieba”]}</p>\n</blockquote>\n<h3 id=\"5-加入插件后需要执行\"><a href=\"#5-加入插件后需要执行\" class=\"headerlink\" title=\"5. 加入插件后需要执行\"></a>5. 加入插件后需要执行</h3><blockquote>\n<p>gitbook install </p>\n</blockquote>\n<h3 id=\"6-启动服务\"><a href=\"#6-启动服务\" class=\"headerlink\" title=\"6. 启动服务\"></a>6. 启动服务</h3><blockquote>\n<p>gitbook serve</p>\n</blockquote>\n<h3 id=\"7-启动后访问localhost-4000，页面样式就像这样\"><a href=\"#7-启动后访问localhost-4000，页面样式就像这样\" class=\"headerlink\" title=\"7. 启动后访问localhost:4000，页面样式就像这样\"></a>7. 启动后访问localhost:4000，页面样式就像这样</h3><p><img src=\"http://img.blog.csdn.net/20170105203323433?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdHdoX2Vhc3Q=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"输入文字开始搜索\"></p>\n<h3 id=\"8-Gitbook-Editor很好用，可以添加、管理文章\"><a href=\"#8-Gitbook-Editor很好用，可以添加、管理文章\" class=\"headerlink\" title=\"8. Gitbook Editor很好用，可以添加、管理文章\"></a>8. Gitbook Editor很好用，可以添加、管理文章</h3><hr>\n<h2 id=\"有一些坑：\"><a href=\"#有一些坑：\" class=\"headerlink\" title=\"有一些坑：\"></a>有一些坑：</h2><ul>\n<li><p>官网上说最多可以添加100篇文章，可能是说在线gitbook，具体需要尝试 - 中文搜索由于分词的关系，搜索单字时效果不好 </p>\n</li>\n<li><p>搜索框内输入过快、或者说快速变化输入的单词时，搜索的结果和预期的不一样 </p>\n</li>\n<li><p>README会显示在搜索框下方，不显示在文章列表里，但是下面第一部分的文章数量又包含了README，强迫症很纠结 </p>\n</li>\n</ul>\n<hr>\n<p>参考：</p>\n<p><a href=\"https://www.gitbook.com/\" target=\"_blank\" rel=\"noopener\">https://www.gitbook.com/</a></p>\n<p><a href=\"https://plugins.gitbook.com/\" target=\"_blank\" rel=\"noopener\">https://plugins.gitbook.com/</a></p>\n<p><a href=\"https://help.gitbook.com/\" target=\"_blank\" rel=\"noopener\">https://help.gitbook.com/</a></p>\n<p><a href=\"https://plugins.gitbook.com/plugin/search-jieba\" target=\"_blank\" rel=\"noopener\">https://plugins.gitbook.com/plugin/search-jieba</a></p>\n"},{"title":"mac下使用plist实现定时任务","author":"weihai","date":"2019-02-02T02:43:00.000Z","_content":"记录下主要步骤：\n1. 新建一个任务脚本文件，如 /Users/username/Downloads/autoRun.sh (里面的具体内容就是到了时间要跑的任务内容)\n2. chmod 755 autoRun.sh （确保有可执行的权限）\n3. 然后进入到~/Library/LaunchAgents 下建一个plist文件，如com.twh.test.autorun.plist\n4. plist文件内容可以参考下面的：\n5. Label 可以随便起，但是要唯一 \n```\nProgramArguments 存放需要定时跑的脚本路径+名字\nStartCalendarInterval 可以定时到 “时 分 秒”\n也可以使用StartInterval 表示间隔多少秒,如\nStartInterval 60\n```\n6.\n```\n开始执行定时任务 launchctl load com.twh.test.autorun.plist \n取消定时任务 launchctl unload com.twh.test.autorun.plist  \n立即执行任务一次 launchctl start com.twh.test.autorun.plist  \n停止执行任务 launchctl stop com.twh.test.autorun.plist  \n```\n\nhttp://my.oschina.net/jackin/blog/263024\n\nhttp://www.2cto.com/os/201305/215350.html","source":"_posts/mac下使用plist实现定时任务.md","raw":"title: mac下使用plist实现定时任务\nauthor: weihai\ntags:\n  - mac\ncategories: []\ndate: 2019-02-02 10:43:00\n---\n记录下主要步骤：\n1. 新建一个任务脚本文件，如 /Users/username/Downloads/autoRun.sh (里面的具体内容就是到了时间要跑的任务内容)\n2. chmod 755 autoRun.sh （确保有可执行的权限）\n3. 然后进入到~/Library/LaunchAgents 下建一个plist文件，如com.twh.test.autorun.plist\n4. plist文件内容可以参考下面的：\n5. Label 可以随便起，但是要唯一 \n```\nProgramArguments 存放需要定时跑的脚本路径+名字\nStartCalendarInterval 可以定时到 “时 分 秒”\n也可以使用StartInterval 表示间隔多少秒,如\nStartInterval 60\n```\n6.\n```\n开始执行定时任务 launchctl load com.twh.test.autorun.plist \n取消定时任务 launchctl unload com.twh.test.autorun.plist  \n立即执行任务一次 launchctl start com.twh.test.autorun.plist  \n停止执行任务 launchctl stop com.twh.test.autorun.plist  \n```\n\nhttp://my.oschina.net/jackin/blog/263024\n\nhttp://www.2cto.com/os/201305/215350.html","slug":"mac下使用plist实现定时任务","published":1,"updated":"2019-05-23T06:58:59.145Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckniaipvv0001lspabn9uy5m3","content":"<p>记录下主要步骤：</p>\n<ol>\n<li>新建一个任务脚本文件，如 /Users/username/Downloads/autoRun.sh (里面的具体内容就是到了时间要跑的任务内容)</li>\n<li>chmod 755 autoRun.sh （确保有可执行的权限）</li>\n<li>然后进入到~/Library/LaunchAgents 下建一个plist文件，如com.twh.test.autorun.plist</li>\n<li>plist文件内容可以参考下面的：</li>\n<li>Label 可以随便起，但是要唯一 <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ProgramArguments 存放需要定时跑的脚本路径+名字</span><br><span class=\"line\">StartCalendarInterval 可以定时到 “时 分 秒”</span><br><span class=\"line\">也可以使用StartInterval 表示间隔多少秒,如</span><br><span class=\"line\">StartInterval 60</span><br></pre></td></tr></table></figure>\n\n</li>\n</ol>\n<p>6.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">开始执行定时任务 launchctl load com.twh.test.autorun.plist </span><br><span class=\"line\">取消定时任务 launchctl unload com.twh.test.autorun.plist  </span><br><span class=\"line\">立即执行任务一次 launchctl start com.twh.test.autorun.plist  </span><br><span class=\"line\">停止执行任务 launchctl stop com.twh.test.autorun.plist</span><br></pre></td></tr></table></figure>\n\n<p><a href=\"http://my.oschina.net/jackin/blog/263024\" target=\"_blank\" rel=\"noopener\">http://my.oschina.net/jackin/blog/263024</a></p>\n<p><a href=\"http://www.2cto.com/os/201305/215350.html\" target=\"_blank\" rel=\"noopener\">http://www.2cto.com/os/201305/215350.html</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>记录下主要步骤：</p>\n<ol>\n<li>新建一个任务脚本文件，如 /Users/username/Downloads/autoRun.sh (里面的具体内容就是到了时间要跑的任务内容)</li>\n<li>chmod 755 autoRun.sh （确保有可执行的权限）</li>\n<li>然后进入到~/Library/LaunchAgents 下建一个plist文件，如com.twh.test.autorun.plist</li>\n<li>plist文件内容可以参考下面的：</li>\n<li>Label 可以随便起，但是要唯一 <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ProgramArguments 存放需要定时跑的脚本路径+名字</span><br><span class=\"line\">StartCalendarInterval 可以定时到 “时 分 秒”</span><br><span class=\"line\">也可以使用StartInterval 表示间隔多少秒,如</span><br><span class=\"line\">StartInterval 60</span><br></pre></td></tr></table></figure>\n\n</li>\n</ol>\n<p>6.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">开始执行定时任务 launchctl load com.twh.test.autorun.plist </span><br><span class=\"line\">取消定时任务 launchctl unload com.twh.test.autorun.plist  </span><br><span class=\"line\">立即执行任务一次 launchctl start com.twh.test.autorun.plist  </span><br><span class=\"line\">停止执行任务 launchctl stop com.twh.test.autorun.plist</span><br></pre></td></tr></table></figure>\n\n<p><a href=\"http://my.oschina.net/jackin/blog/263024\" target=\"_blank\" rel=\"noopener\">http://my.oschina.net/jackin/blog/263024</a></p>\n<p><a href=\"http://www.2cto.com/os/201305/215350.html\" target=\"_blank\" rel=\"noopener\">http://www.2cto.com/os/201305/215350.html</a></p>\n"},{"title":"ssh保持长链接","author":"twh","date":"2019-08-04T04:11:00.000Z","_content":"# ssh 保持长连接\n在不修改sever、client的ssh配置的前提下，可以通过在命令中添加参数来实现\n\n```\nssh -o ServerAliveInterval=15 -o ServerAliveCountMax=3 root@xxxxxxx\n```\n\n每隔15秒重连一下，如果3次都没有返回，才会断开连接\n\n","source":"_posts/ssh 长链接.md","raw":"title: ssh保持长链接\ntags:\n  - ssh\ncategories:\n  - ssh\nauthor: twh\ndate: 2019-08-04 12:11:00\n---\n# ssh 保持长连接\n在不修改sever、client的ssh配置的前提下，可以通过在命令中添加参数来实现\n\n```\nssh -o ServerAliveInterval=15 -o ServerAliveCountMax=3 root@xxxxxxx\n```\n\n每隔15秒重连一下，如果3次都没有返回，才会断开连接\n\n","slug":"ssh 长链接","published":1,"updated":"2021-04-15T02:54:45.821Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckniaipvy0003lspavya12uxm","content":"<h1 id=\"ssh-保持长连接\"><a href=\"#ssh-保持长连接\" class=\"headerlink\" title=\"ssh 保持长连接\"></a>ssh 保持长连接</h1><p>在不修改sever、client的ssh配置的前提下，可以通过在命令中添加参数来实现</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh -o ServerAliveInterval=15 -o ServerAliveCountMax=3 root@xxxxxxx</span><br></pre></td></tr></table></figure>\n\n<p>每隔15秒重连一下，如果3次都没有返回，才会断开连接</p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"ssh-保持长连接\"><a href=\"#ssh-保持长连接\" class=\"headerlink\" title=\"ssh 保持长连接\"></a>ssh 保持长连接</h1><p>在不修改sever、client的ssh配置的前提下，可以通过在命令中添加参数来实现</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh -o ServerAliveInterval=15 -o ServerAliveCountMax=3 root@xxxxxxx</span><br></pre></td></tr></table></figure>\n\n<p>每隔15秒重连一下，如果3次都没有返回，才会断开连接</p>\n"},{"title":"opentWrt 流量控制tc","author":"weihai","date":"2019-02-02T01:48:00.000Z","_content":"## 在openwrt路由上使用tc命令控制网络的带宽、延时、丢包率，来模拟一些弱网络的环境\n\n#### 1.核心命令\n\n参考：Network Traffic Control (QOS)\n\n![upload successful](/images/pasted-0.png)\n\n###### 用opkg安装\n```\nopkg update\nopkg install tc iptables-mod-ipopt\n```\n\n###### 用法\n```\ntc qdisc del dev eth0 root\ntc qdisc add dev eth0 root netem rate 1mbit delay 200ms loss 10%​\n```\n\n#### 2.界面\n\n光有了命令，每次都要ssh上去，还是很麻烦，所以需要一个快捷执行命令的方法\n\n这里非常感谢Shuhao Wu分享的Traffic Cop工具，可以方便的在网页上设置网络环境\n\n安装方法在他的文章末尾有，我主要说下我安装、使用过程中碰到的问题：\n\n- Package kmod-sched wants to install file /lib/modules/3.10.49/sch_netem.ko But that file is already provided by package kmod-netem Collected errors **解决方法是 命令后加  --force-overwrite**\n\n- 安装成功后，启动trafficcop，网页访问后，点了按钮，不能实现限速。原因应该是tc命令中的interface 或参数设置不正确，具体还没仔细看，临时的解决方法是，把 tc命令直接在在 /usr/lib/trafficcop/api/edge 等文件中\n\n- 还可以自己加按钮加配置，按钮的id要和新的配置文件名一样就可以","source":"_posts/opentWrt-流量控制tc.md","raw":"title: opentWrt 流量控制tc\nauthor: weihai\ntags:\n  - tc\n  - openwrt\ncategories: []\ndate: 2019-02-02 09:48:00\n---\n## 在openwrt路由上使用tc命令控制网络的带宽、延时、丢包率，来模拟一些弱网络的环境\n\n#### 1.核心命令\n\n参考：Network Traffic Control (QOS)\n\n![upload successful](/images/pasted-0.png)\n\n###### 用opkg安装\n```\nopkg update\nopkg install tc iptables-mod-ipopt\n```\n\n###### 用法\n```\ntc qdisc del dev eth0 root\ntc qdisc add dev eth0 root netem rate 1mbit delay 200ms loss 10%​\n```\n\n#### 2.界面\n\n光有了命令，每次都要ssh上去，还是很麻烦，所以需要一个快捷执行命令的方法\n\n这里非常感谢Shuhao Wu分享的Traffic Cop工具，可以方便的在网页上设置网络环境\n\n安装方法在他的文章末尾有，我主要说下我安装、使用过程中碰到的问题：\n\n- Package kmod-sched wants to install file /lib/modules/3.10.49/sch_netem.ko But that file is already provided by package kmod-netem Collected errors **解决方法是 命令后加  --force-overwrite**\n\n- 安装成功后，启动trafficcop，网页访问后，点了按钮，不能实现限速。原因应该是tc命令中的interface 或参数设置不正确，具体还没仔细看，临时的解决方法是，把 tc命令直接在在 /usr/lib/trafficcop/api/edge 等文件中\n\n- 还可以自己加按钮加配置，按钮的id要和新的配置文件名一样就可以","slug":"opentWrt-流量控制tc","published":1,"updated":"2020-03-24T01:57:54.551Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckniaipvz0004lspaxs47laxu","content":"<h2 id=\"在openwrt路由上使用tc命令控制网络的带宽、延时、丢包率，来模拟一些弱网络的环境\"><a href=\"#在openwrt路由上使用tc命令控制网络的带宽、延时、丢包率，来模拟一些弱网络的环境\" class=\"headerlink\" title=\"在openwrt路由上使用tc命令控制网络的带宽、延时、丢包率，来模拟一些弱网络的环境\"></a>在openwrt路由上使用tc命令控制网络的带宽、延时、丢包率，来模拟一些弱网络的环境</h2><h4 id=\"1-核心命令\"><a href=\"#1-核心命令\" class=\"headerlink\" title=\"1.核心命令\"></a>1.核心命令</h4><p>参考：Network Traffic Control (QOS)</p>\n<p><img src=\"/images/pasted-0.png\" alt=\"upload successful\"></p>\n<h6 id=\"用opkg安装\"><a href=\"#用opkg安装\" class=\"headerlink\" title=\"用opkg安装\"></a>用opkg安装</h6><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">opkg update</span><br><span class=\"line\">opkg install tc iptables-mod-ipopt</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"用法\"><a href=\"#用法\" class=\"headerlink\" title=\"用法\"></a>用法</h6><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tc qdisc del dev eth0 root</span><br><span class=\"line\">tc qdisc add dev eth0 root netem rate 1mbit delay 200ms loss 10%​</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"2-界面\"><a href=\"#2-界面\" class=\"headerlink\" title=\"2.界面\"></a>2.界面</h4><p>光有了命令，每次都要ssh上去，还是很麻烦，所以需要一个快捷执行命令的方法</p>\n<p>这里非常感谢Shuhao Wu分享的Traffic Cop工具，可以方便的在网页上设置网络环境</p>\n<p>安装方法在他的文章末尾有，我主要说下我安装、使用过程中碰到的问题：</p>\n<ul>\n<li><p>Package kmod-sched wants to install file /lib/modules/3.10.49/sch_netem.ko But that file is already provided by package kmod-netem Collected errors <strong>解决方法是 命令后加  –force-overwrite</strong></p>\n</li>\n<li><p>安装成功后，启动trafficcop，网页访问后，点了按钮，不能实现限速。原因应该是tc命令中的interface 或参数设置不正确，具体还没仔细看，临时的解决方法是，把 tc命令直接在在 /usr/lib/trafficcop/api/edge 等文件中</p>\n</li>\n<li><p>还可以自己加按钮加配置，按钮的id要和新的配置文件名一样就可以</p>\n</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"在openwrt路由上使用tc命令控制网络的带宽、延时、丢包率，来模拟一些弱网络的环境\"><a href=\"#在openwrt路由上使用tc命令控制网络的带宽、延时、丢包率，来模拟一些弱网络的环境\" class=\"headerlink\" title=\"在openwrt路由上使用tc命令控制网络的带宽、延时、丢包率，来模拟一些弱网络的环境\"></a>在openwrt路由上使用tc命令控制网络的带宽、延时、丢包率，来模拟一些弱网络的环境</h2><h4 id=\"1-核心命令\"><a href=\"#1-核心命令\" class=\"headerlink\" title=\"1.核心命令\"></a>1.核心命令</h4><p>参考：Network Traffic Control (QOS)</p>\n<p><img src=\"/images/pasted-0.png\" alt=\"upload successful\"></p>\n<h6 id=\"用opkg安装\"><a href=\"#用opkg安装\" class=\"headerlink\" title=\"用opkg安装\"></a>用opkg安装</h6><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">opkg update</span><br><span class=\"line\">opkg install tc iptables-mod-ipopt</span><br></pre></td></tr></table></figure>\n\n<h6 id=\"用法\"><a href=\"#用法\" class=\"headerlink\" title=\"用法\"></a>用法</h6><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tc qdisc del dev eth0 root</span><br><span class=\"line\">tc qdisc add dev eth0 root netem rate 1mbit delay 200ms loss 10%​</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"2-界面\"><a href=\"#2-界面\" class=\"headerlink\" title=\"2.界面\"></a>2.界面</h4><p>光有了命令，每次都要ssh上去，还是很麻烦，所以需要一个快捷执行命令的方法</p>\n<p>这里非常感谢Shuhao Wu分享的Traffic Cop工具，可以方便的在网页上设置网络环境</p>\n<p>安装方法在他的文章末尾有，我主要说下我安装、使用过程中碰到的问题：</p>\n<ul>\n<li><p>Package kmod-sched wants to install file /lib/modules/3.10.49/sch_netem.ko But that file is already provided by package kmod-netem Collected errors <strong>解决方法是 命令后加  –force-overwrite</strong></p>\n</li>\n<li><p>安装成功后，启动trafficcop，网页访问后，点了按钮，不能实现限速。原因应该是tc命令中的interface 或参数设置不正确，具体还没仔细看，临时的解决方法是，把 tc命令直接在在 /usr/lib/trafficcop/api/edge 等文件中</p>\n</li>\n<li><p>还可以自己加按钮加配置，按钮的id要和新的配置文件名一样就可以</p>\n</li>\n</ul>\n"},{"title":"ui automonkey（ios）","author":"twh","date":"2019-02-01T07:11:00.000Z","_content":"git hub 地址：https://github.com/jonathanpenn/ui-auto-monkey\n\n简单步骤：使用ios Instruments中的UIAutomation，然后将已编写好的脚本（UIAutoMonkey.js）导入并运行\n\nconfig可自行配置\n\nuiautomation中元素访问及操作方法：\nhttps://github.com/twheastasia/eastasia/blob/master/uiautomationScript/sample.js","source":"_posts/ui_automonkey.md","raw":"title: ui automonkey（ios）\ntags:\n  - ios\n  - ui automation\n  - automation\ncategories:\n  - 自动化\nauthor: twh\ndate: 2019-02-01 15:11:00\n---\ngit hub 地址：https://github.com/jonathanpenn/ui-auto-monkey\n\n简单步骤：使用ios Instruments中的UIAutomation，然后将已编写好的脚本（UIAutoMonkey.js）导入并运行\n\nconfig可自行配置\n\nuiautomation中元素访问及操作方法：\nhttps://github.com/twheastasia/eastasia/blob/master/uiautomationScript/sample.js","slug":"ui_automonkey","published":1,"updated":"2019-05-23T06:58:59.145Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckniaipw00006lspaxk97sm8p","content":"<p>git hub 地址：<a href=\"https://github.com/jonathanpenn/ui-auto-monkey\" target=\"_blank\" rel=\"noopener\">https://github.com/jonathanpenn/ui-auto-monkey</a></p>\n<p>简单步骤：使用ios Instruments中的UIAutomation，然后将已编写好的脚本（UIAutoMonkey.js）导入并运行</p>\n<p>config可自行配置</p>\n<p>uiautomation中元素访问及操作方法：<br><a href=\"https://github.com/twheastasia/eastasia/blob/master/uiautomationScript/sample.js\" target=\"_blank\" rel=\"noopener\">https://github.com/twheastasia/eastasia/blob/master/uiautomationScript/sample.js</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>git hub 地址：<a href=\"https://github.com/jonathanpenn/ui-auto-monkey\" target=\"_blank\" rel=\"noopener\">https://github.com/jonathanpenn/ui-auto-monkey</a></p>\n<p>简单步骤：使用ios Instruments中的UIAutomation，然后将已编写好的脚本（UIAutoMonkey.js）导入并运行</p>\n<p>config可自行配置</p>\n<p>uiautomation中元素访问及操作方法：<br><a href=\"https://github.com/twheastasia/eastasia/blob/master/uiautomationScript/sample.js\" target=\"_blank\" rel=\"noopener\">https://github.com/twheastasia/eastasia/blob/master/uiautomationScript/sample.js</a></p>\n"},{"title":"quill-image-resize-module 踩坑","author":"twh","date":"2020-04-21T01:46:00.000Z","_content":"# quill-image-resize-module 踩坑\n\n项目中使用了 [Vue-Quill-Editor](https://github.com/surmon-china/vue-quill-editor)，挺好用的，但是对于图片上传并不是我希望的效果。好在有扩展，可以满足我的两个需求：\n1. 上传图片到图床\n2. 调整图片大小\n\n分别对应两个module：\n1. [quill-image-extend-module](https://github.com/NextBoy/quill-image-extend-module)\n2. [quill-image-resize-module](https://github.com/kensnyder/quill-image-resize-module)\n\n### quill-image-extend-module\nquill-image-extend-module照着readme一步一步操作即可\n\n### quill-image-resize-module\n这里遇到3个问题：\n1. imports 问题\n   需要在webpack中手动添加quill插件\n2. register 问题\n3. quill Cannot import modules/imageResize. Are you sure it was registered?\n   > 这两个问题是一定要把大小写写对。。。\n   > [代码](https://github.com/kensnyder/quill-image-resize-module/blob/60a43a2477e9947da78a08877bd18a38bc6476af/src/ImageResize.js#L199)中注册时写了imageResize,所以后面使用时也要写生首字母小写\n\n\n\n\n##### 完整的代码如下：\n> vue.config.js\n~~~javascript\nconst webpack = require('webpack')\n\nmodule.exports = {\n  chainWebpack(config) {\n    config\n    .plugin('Quill')\n    .use(webpack.ProvidePlugin, [{\n      'window.Quill': 'quill'\n      // 或\n      // 'window.Quill': 'quill/dist/quill.js',\n      // 'Quill': 'quill/dist/quill.js'\n    }])\n  }\n}\n~~~\n\n> vue\n~~~javascript\nimport { quillEditor, Quill } from 'vue-quill-editor'\nimport { ImageExtend, QuillWatch } from 'quill-image-extend-module'\nimport ImageResize from 'quill-image-resize-module'\nimport 'quill/dist/quill.core.css'\nimport 'quill/dist/quill.snow.css'\nimport 'quill/dist/quill.bubble.css'\n\nQuill.register('modules/ImageExtend', ImageExtend)\nQuill.register('modules/imageResize', ImageResize)\n\n...\n\n  quillEditorOptions: {\n    modules: {\n      // 调整图片大小\n      imageResize: {\n        modules: ['Resize', 'DisplaySize']\n      },\n      // 上传到图床\n      ImageExtend: {\n        loading: true,\n        name: 'file',\n        action: 'url,\n        response: (res) => {\n          return res.url\n        }\n      },\n      // 如果不上传图片到服务器，此处不必配置\n      toolbar: {\n        // container为工具栏，此次引入了全部工具栏，也可自行配置\n        container: [\n          ['bold', 'italic', 'underline', 'strike'],\n          ['blockquote', 'code-block'],\n          [{ 'list': 'ordered' }, { 'list': 'bullet' }],\n          ['link', 'image'],\n          [{ 'color': [] }, { 'background': [] }],\n          [{ 'align': [] }]\n        ],\n        handlers: {\n          'image': function() {\n            // 劫持原来的图片点击按钮事件\n            QuillWatch.emit(this.quill.id)\n          }\n        }\n      }\n    }\n  }\n~~~\n","source":"_posts/quill-image-resize-module 踩坑.md","raw":"title: quill-image-resize-module 踩坑\ntags:\n  - quill-image-resize-module\ncategories:\n  - vuejs\nauthor: twh\ndate: 2020-04-21 09:46:00\n---\n# quill-image-resize-module 踩坑\n\n项目中使用了 [Vue-Quill-Editor](https://github.com/surmon-china/vue-quill-editor)，挺好用的，但是对于图片上传并不是我希望的效果。好在有扩展，可以满足我的两个需求：\n1. 上传图片到图床\n2. 调整图片大小\n\n分别对应两个module：\n1. [quill-image-extend-module](https://github.com/NextBoy/quill-image-extend-module)\n2. [quill-image-resize-module](https://github.com/kensnyder/quill-image-resize-module)\n\n### quill-image-extend-module\nquill-image-extend-module照着readme一步一步操作即可\n\n### quill-image-resize-module\n这里遇到3个问题：\n1. imports 问题\n   需要在webpack中手动添加quill插件\n2. register 问题\n3. quill Cannot import modules/imageResize. Are you sure it was registered?\n   > 这两个问题是一定要把大小写写对。。。\n   > [代码](https://github.com/kensnyder/quill-image-resize-module/blob/60a43a2477e9947da78a08877bd18a38bc6476af/src/ImageResize.js#L199)中注册时写了imageResize,所以后面使用时也要写生首字母小写\n\n\n\n\n##### 完整的代码如下：\n> vue.config.js\n~~~javascript\nconst webpack = require('webpack')\n\nmodule.exports = {\n  chainWebpack(config) {\n    config\n    .plugin('Quill')\n    .use(webpack.ProvidePlugin, [{\n      'window.Quill': 'quill'\n      // 或\n      // 'window.Quill': 'quill/dist/quill.js',\n      // 'Quill': 'quill/dist/quill.js'\n    }])\n  }\n}\n~~~\n\n> vue\n~~~javascript\nimport { quillEditor, Quill } from 'vue-quill-editor'\nimport { ImageExtend, QuillWatch } from 'quill-image-extend-module'\nimport ImageResize from 'quill-image-resize-module'\nimport 'quill/dist/quill.core.css'\nimport 'quill/dist/quill.snow.css'\nimport 'quill/dist/quill.bubble.css'\n\nQuill.register('modules/ImageExtend', ImageExtend)\nQuill.register('modules/imageResize', ImageResize)\n\n...\n\n  quillEditorOptions: {\n    modules: {\n      // 调整图片大小\n      imageResize: {\n        modules: ['Resize', 'DisplaySize']\n      },\n      // 上传到图床\n      ImageExtend: {\n        loading: true,\n        name: 'file',\n        action: 'url,\n        response: (res) => {\n          return res.url\n        }\n      },\n      // 如果不上传图片到服务器，此处不必配置\n      toolbar: {\n        // container为工具栏，此次引入了全部工具栏，也可自行配置\n        container: [\n          ['bold', 'italic', 'underline', 'strike'],\n          ['blockquote', 'code-block'],\n          [{ 'list': 'ordered' }, { 'list': 'bullet' }],\n          ['link', 'image'],\n          [{ 'color': [] }, { 'background': [] }],\n          [{ 'align': [] }]\n        ],\n        handlers: {\n          'image': function() {\n            // 劫持原来的图片点击按钮事件\n            QuillWatch.emit(this.quill.id)\n          }\n        }\n      }\n    }\n  }\n~~~\n","slug":"quill-image-resize-module 踩坑","published":1,"updated":"2020-08-03T02:19:15.997Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckniaipw10008lspawfm6fibf","content":"<h1 id=\"quill-image-resize-module-踩坑\"><a href=\"#quill-image-resize-module-踩坑\" class=\"headerlink\" title=\"quill-image-resize-module 踩坑\"></a>quill-image-resize-module 踩坑</h1><p>项目中使用了 <a href=\"https://github.com/surmon-china/vue-quill-editor\" target=\"_blank\" rel=\"noopener\">Vue-Quill-Editor</a>，挺好用的，但是对于图片上传并不是我希望的效果。好在有扩展，可以满足我的两个需求：</p>\n<ol>\n<li>上传图片到图床</li>\n<li>调整图片大小</li>\n</ol>\n<p>分别对应两个module：</p>\n<ol>\n<li><a href=\"https://github.com/NextBoy/quill-image-extend-module\" target=\"_blank\" rel=\"noopener\">quill-image-extend-module</a></li>\n<li><a href=\"https://github.com/kensnyder/quill-image-resize-module\" target=\"_blank\" rel=\"noopener\">quill-image-resize-module</a></li>\n</ol>\n<h3 id=\"quill-image-extend-module\"><a href=\"#quill-image-extend-module\" class=\"headerlink\" title=\"quill-image-extend-module\"></a>quill-image-extend-module</h3><p>quill-image-extend-module照着readme一步一步操作即可</p>\n<h3 id=\"quill-image-resize-module\"><a href=\"#quill-image-resize-module\" class=\"headerlink\" title=\"quill-image-resize-module\"></a>quill-image-resize-module</h3><p>这里遇到3个问题：</p>\n<ol>\n<li>imports 问题<br>需要在webpack中手动添加quill插件</li>\n<li>register 问题</li>\n<li>quill Cannot import modules/imageResize. Are you sure it was registered?<blockquote>\n<p>这两个问题是一定要把大小写写对。。。<br><a href=\"https://github.com/kensnyder/quill-image-resize-module/blob/60a43a2477e9947da78a08877bd18a38bc6476af/src/ImageResize.js#L199\" target=\"_blank\" rel=\"noopener\">代码</a>中注册时写了imageResize,所以后面使用时也要写生首字母小写</p>\n</blockquote>\n</li>\n</ol>\n<h5 id=\"完整的代码如下：\"><a href=\"#完整的代码如下：\" class=\"headerlink\" title=\"完整的代码如下：\"></a>完整的代码如下：</h5><blockquote>\n<p>vue.config.js</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> webpack = <span class=\"built_in\">require</span>(<span class=\"string\">'webpack'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">  chainWebpack(config) &#123;</span><br><span class=\"line\">    config</span><br><span class=\"line\">    .plugin(<span class=\"string\">'Quill'</span>)</span><br><span class=\"line\">    .use(webpack.ProvidePlugin, [&#123;</span><br><span class=\"line\">      <span class=\"string\">'window.Quill'</span>: <span class=\"string\">'quill'</span></span><br><span class=\"line\">      <span class=\"comment\">// 或</span></span><br><span class=\"line\">      <span class=\"comment\">// 'window.Quill': 'quill/dist/quill.js',</span></span><br><span class=\"line\">      <span class=\"comment\">// 'Quill': 'quill/dist/quill.js'</span></span><br><span class=\"line\">    &#125;])</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>vue</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; quillEditor, Quill &#125; <span class=\"keyword\">from</span> <span class=\"string\">'vue-quill-editor'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; ImageExtend, QuillWatch &#125; <span class=\"keyword\">from</span> <span class=\"string\">'quill-image-extend-module'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> ImageResize <span class=\"keyword\">from</span> <span class=\"string\">'quill-image-resize-module'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">'quill/dist/quill.core.css'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">'quill/dist/quill.snow.css'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">'quill/dist/quill.bubble.css'</span></span><br><span class=\"line\"></span><br><span class=\"line\">Quill.register(<span class=\"string\">'modules/ImageExtend'</span>, ImageExtend)</span><br><span class=\"line\">Quill.register(<span class=\"string\">'modules/imageResize'</span>, ImageResize)</span><br><span class=\"line\"></span><br><span class=\"line\">...</span><br><span class=\"line\"></span><br><span class=\"line\">  quillEditorOptions: &#123;</span><br><span class=\"line\">    modules: &#123;</span><br><span class=\"line\">      <span class=\"comment\">// 调整图片大小</span></span><br><span class=\"line\">      imageResize: &#123;</span><br><span class=\"line\">        modules: [<span class=\"string\">'Resize'</span>, <span class=\"string\">'DisplaySize'</span>]</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"comment\">// 上传到图床</span></span><br><span class=\"line\">      ImageExtend: &#123;</span><br><span class=\"line\">        loading: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        name: <span class=\"string\">'file'</span>,</span><br><span class=\"line\">        action: <span class=\"string\">'url,</span></span><br><span class=\"line\"><span class=\"string\">        response: (res) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"string\">          return res.url</span></span><br><span class=\"line\"><span class=\"string\">        &#125;</span></span><br><span class=\"line\"><span class=\"string\">      &#125;,</span></span><br><span class=\"line\"><span class=\"string\">      // 如果不上传图片到服务器，此处不必配置</span></span><br><span class=\"line\"><span class=\"string\">      toolbar: &#123;</span></span><br><span class=\"line\"><span class=\"string\">        // container为工具栏，此次引入了全部工具栏，也可自行配置</span></span><br><span class=\"line\"><span class=\"string\">        container: [</span></span><br><span class=\"line\"><span class=\"string\">          ['</span>bold<span class=\"string\">', '</span>italic<span class=\"string\">', '</span>underline<span class=\"string\">', '</span>strike<span class=\"string\">'],</span></span><br><span class=\"line\"><span class=\"string\">          ['</span>blockquote<span class=\"string\">', '</span>code-block<span class=\"string\">'],</span></span><br><span class=\"line\"><span class=\"string\">          [&#123; '</span>list<span class=\"string\">': '</span>ordered<span class=\"string\">' &#125;, &#123; '</span>list<span class=\"string\">': '</span>bullet<span class=\"string\">' &#125;],</span></span><br><span class=\"line\"><span class=\"string\">          ['</span>link<span class=\"string\">', '</span>image<span class=\"string\">'],</span></span><br><span class=\"line\"><span class=\"string\">          [&#123; '</span>color<span class=\"string\">': [] &#125;, &#123; '</span>background<span class=\"string\">': [] &#125;],</span></span><br><span class=\"line\"><span class=\"string\">          [&#123; '</span>align<span class=\"string\">': [] &#125;]</span></span><br><span class=\"line\"><span class=\"string\">        ],</span></span><br><span class=\"line\"><span class=\"string\">        handlers: &#123;</span></span><br><span class=\"line\"><span class=\"string\">          '</span>image<span class=\"string\">': function() &#123;</span></span><br><span class=\"line\"><span class=\"string\">            // 劫持原来的图片点击按钮事件</span></span><br><span class=\"line\"><span class=\"string\">            QuillWatch.emit(this.quill.id)</span></span><br><span class=\"line\"><span class=\"string\">          &#125;</span></span><br><span class=\"line\"><span class=\"string\">        &#125;</span></span><br><span class=\"line\"><span class=\"string\">      &#125;</span></span><br><span class=\"line\"><span class=\"string\">    &#125;</span></span><br><span class=\"line\"><span class=\"string\">  &#125;</span></span><br></pre></td></tr></table></figure>\n\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"quill-image-resize-module-踩坑\"><a href=\"#quill-image-resize-module-踩坑\" class=\"headerlink\" title=\"quill-image-resize-module 踩坑\"></a>quill-image-resize-module 踩坑</h1><p>项目中使用了 <a href=\"https://github.com/surmon-china/vue-quill-editor\" target=\"_blank\" rel=\"noopener\">Vue-Quill-Editor</a>，挺好用的，但是对于图片上传并不是我希望的效果。好在有扩展，可以满足我的两个需求：</p>\n<ol>\n<li>上传图片到图床</li>\n<li>调整图片大小</li>\n</ol>\n<p>分别对应两个module：</p>\n<ol>\n<li><a href=\"https://github.com/NextBoy/quill-image-extend-module\" target=\"_blank\" rel=\"noopener\">quill-image-extend-module</a></li>\n<li><a href=\"https://github.com/kensnyder/quill-image-resize-module\" target=\"_blank\" rel=\"noopener\">quill-image-resize-module</a></li>\n</ol>\n<h3 id=\"quill-image-extend-module\"><a href=\"#quill-image-extend-module\" class=\"headerlink\" title=\"quill-image-extend-module\"></a>quill-image-extend-module</h3><p>quill-image-extend-module照着readme一步一步操作即可</p>\n<h3 id=\"quill-image-resize-module\"><a href=\"#quill-image-resize-module\" class=\"headerlink\" title=\"quill-image-resize-module\"></a>quill-image-resize-module</h3><p>这里遇到3个问题：</p>\n<ol>\n<li>imports 问题<br>需要在webpack中手动添加quill插件</li>\n<li>register 问题</li>\n<li>quill Cannot import modules/imageResize. Are you sure it was registered?<blockquote>\n<p>这两个问题是一定要把大小写写对。。。<br><a href=\"https://github.com/kensnyder/quill-image-resize-module/blob/60a43a2477e9947da78a08877bd18a38bc6476af/src/ImageResize.js#L199\" target=\"_blank\" rel=\"noopener\">代码</a>中注册时写了imageResize,所以后面使用时也要写生首字母小写</p>\n</blockquote>\n</li>\n</ol>\n<h5 id=\"完整的代码如下：\"><a href=\"#完整的代码如下：\" class=\"headerlink\" title=\"完整的代码如下：\"></a>完整的代码如下：</h5><blockquote>\n<p>vue.config.js</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> webpack = <span class=\"built_in\">require</span>(<span class=\"string\">'webpack'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">  chainWebpack(config) &#123;</span><br><span class=\"line\">    config</span><br><span class=\"line\">    .plugin(<span class=\"string\">'Quill'</span>)</span><br><span class=\"line\">    .use(webpack.ProvidePlugin, [&#123;</span><br><span class=\"line\">      <span class=\"string\">'window.Quill'</span>: <span class=\"string\">'quill'</span></span><br><span class=\"line\">      <span class=\"comment\">// 或</span></span><br><span class=\"line\">      <span class=\"comment\">// 'window.Quill': 'quill/dist/quill.js',</span></span><br><span class=\"line\">      <span class=\"comment\">// 'Quill': 'quill/dist/quill.js'</span></span><br><span class=\"line\">    &#125;])</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>vue</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; quillEditor, Quill &#125; <span class=\"keyword\">from</span> <span class=\"string\">'vue-quill-editor'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; ImageExtend, QuillWatch &#125; <span class=\"keyword\">from</span> <span class=\"string\">'quill-image-extend-module'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> ImageResize <span class=\"keyword\">from</span> <span class=\"string\">'quill-image-resize-module'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">'quill/dist/quill.core.css'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">'quill/dist/quill.snow.css'</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">'quill/dist/quill.bubble.css'</span></span><br><span class=\"line\"></span><br><span class=\"line\">Quill.register(<span class=\"string\">'modules/ImageExtend'</span>, ImageExtend)</span><br><span class=\"line\">Quill.register(<span class=\"string\">'modules/imageResize'</span>, ImageResize)</span><br><span class=\"line\"></span><br><span class=\"line\">...</span><br><span class=\"line\"></span><br><span class=\"line\">  quillEditorOptions: &#123;</span><br><span class=\"line\">    modules: &#123;</span><br><span class=\"line\">      <span class=\"comment\">// 调整图片大小</span></span><br><span class=\"line\">      imageResize: &#123;</span><br><span class=\"line\">        modules: [<span class=\"string\">'Resize'</span>, <span class=\"string\">'DisplaySize'</span>]</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"comment\">// 上传到图床</span></span><br><span class=\"line\">      ImageExtend: &#123;</span><br><span class=\"line\">        loading: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        name: <span class=\"string\">'file'</span>,</span><br><span class=\"line\">        action: <span class=\"string\">'url,</span></span><br><span class=\"line\"><span class=\"string\">        response: (res) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"string\">          return res.url</span></span><br><span class=\"line\"><span class=\"string\">        &#125;</span></span><br><span class=\"line\"><span class=\"string\">      &#125;,</span></span><br><span class=\"line\"><span class=\"string\">      // 如果不上传图片到服务器，此处不必配置</span></span><br><span class=\"line\"><span class=\"string\">      toolbar: &#123;</span></span><br><span class=\"line\"><span class=\"string\">        // container为工具栏，此次引入了全部工具栏，也可自行配置</span></span><br><span class=\"line\"><span class=\"string\">        container: [</span></span><br><span class=\"line\"><span class=\"string\">          ['</span>bold<span class=\"string\">', '</span>italic<span class=\"string\">', '</span>underline<span class=\"string\">', '</span>strike<span class=\"string\">'],</span></span><br><span class=\"line\"><span class=\"string\">          ['</span>blockquote<span class=\"string\">', '</span>code-block<span class=\"string\">'],</span></span><br><span class=\"line\"><span class=\"string\">          [&#123; '</span>list<span class=\"string\">': '</span>ordered<span class=\"string\">' &#125;, &#123; '</span>list<span class=\"string\">': '</span>bullet<span class=\"string\">' &#125;],</span></span><br><span class=\"line\"><span class=\"string\">          ['</span>link<span class=\"string\">', '</span>image<span class=\"string\">'],</span></span><br><span class=\"line\"><span class=\"string\">          [&#123; '</span>color<span class=\"string\">': [] &#125;, &#123; '</span>background<span class=\"string\">': [] &#125;],</span></span><br><span class=\"line\"><span class=\"string\">          [&#123; '</span>align<span class=\"string\">': [] &#125;]</span></span><br><span class=\"line\"><span class=\"string\">        ],</span></span><br><span class=\"line\"><span class=\"string\">        handlers: &#123;</span></span><br><span class=\"line\"><span class=\"string\">          '</span>image<span class=\"string\">': function() &#123;</span></span><br><span class=\"line\"><span class=\"string\">            // 劫持原来的图片点击按钮事件</span></span><br><span class=\"line\"><span class=\"string\">            QuillWatch.emit(this.quill.id)</span></span><br><span class=\"line\"><span class=\"string\">          &#125;</span></span><br><span class=\"line\"><span class=\"string\">        &#125;</span></span><br><span class=\"line\"><span class=\"string\">      &#125;</span></span><br><span class=\"line\"><span class=\"string\">    &#125;</span></span><br><span class=\"line\"><span class=\"string\">  &#125;</span></span><br></pre></td></tr></table></figure>\n\n"},{"title":"zsh中自定义命令提示符格式、内容","author":"twh","date":"2019-02-01T07:45:00.000Z","_content":"### 修改 ~/.zshrc文件\n\n```\n添加：\nPROMPT = \"%n@%m >>>\"  #左提示符\nRPROMPT = \"%/\"        #右提示符\n\n添加颜色：\n#导入 colors\nautoload -U colors && colors\n\n$fg[red]              #颜色改变的开始位置\n$reset_color          #颜色改变的结束位置\n\n\n我的~/.zshrc中 PROMPT设置：\nPROMPT=$'%{$fg[cyan]%}%* %D%{$reset_color%}|%{$fg[white]%}%U%n%u@%U%m%u%{$reset_color%}|%{$fg[yellow]%}D:%B%~%b >>> %{$reset_color%}\\n%# '\n\n\n\n\n附上一些常用的预定义prompt参数：\n! 和%h一样\n%B 开始粗体模式\n%b 结束粗体模式\n%c 当前工作目录名称的最后部分\n%C 跟%c类似，但是使用长形式的目录名称\n%d 本周的当天\n%D 今天是当月中的第几天\n%h 当前命令的历史记录编号\n%l shell的当前控制终端\n%L 清除从提示符末尾到下一行的所有内容\n%m 机器的主机名称\n%M 机器的完全符合规范的域名\n%n 用户名\n%p 用精确格式（包括秒）显示的12小时制时间\n%P 用精确格式（包括秒）显示的24小时制时间\n%S 开始标准输出格式\n%s 结束标准输出格式\n%t 以12小时制格式显示时间\n%T 以24小时制格式显示时间\n%U 开始下划线模式\n%u 结束下划线模式\n%w 当前月的名称\n%W 当前月的序数\n%y 以2位格式表示的年\n%Y 以4位格式表示的年\n%% %字符\n%! 跟%h相同\n%@ 跟%t相同\n$# 扩展到>供常规使用，如果用户正以root身份运行的话，就扩展到#\n%/ 当前工作目录的完整名称\n%- 以短格式表示的当前工作目录\n^C 跟C匹配的控制字符：例如^G代表Ctrl+G\n\\a 使tcsh在任何时候显示提示符时嘟嘟响\n\\e 终止的escape符0x1B\n\\f 终止的换页符\n\\n 在这个位置开始一个新行\n\\r 回车符\n\\t Tab制表符\n\\v 垂直制表符\n\\nnn 由八进制数字nnn所指定的字符\n```","source":"_posts/zsh自定义.md","raw":"title: zsh中自定义命令提示符格式、内容\nauthor: twh\ntags:\n  - zsh\ncategories:\n  - linux\ndate: 2019-02-01 15:45:00\n---\n### 修改 ~/.zshrc文件\n\n```\n添加：\nPROMPT = \"%n@%m >>>\"  #左提示符\nRPROMPT = \"%/\"        #右提示符\n\n添加颜色：\n#导入 colors\nautoload -U colors && colors\n\n$fg[red]              #颜色改变的开始位置\n$reset_color          #颜色改变的结束位置\n\n\n我的~/.zshrc中 PROMPT设置：\nPROMPT=$'%{$fg[cyan]%}%* %D%{$reset_color%}|%{$fg[white]%}%U%n%u@%U%m%u%{$reset_color%}|%{$fg[yellow]%}D:%B%~%b >>> %{$reset_color%}\\n%# '\n\n\n\n\n附上一些常用的预定义prompt参数：\n! 和%h一样\n%B 开始粗体模式\n%b 结束粗体模式\n%c 当前工作目录名称的最后部分\n%C 跟%c类似，但是使用长形式的目录名称\n%d 本周的当天\n%D 今天是当月中的第几天\n%h 当前命令的历史记录编号\n%l shell的当前控制终端\n%L 清除从提示符末尾到下一行的所有内容\n%m 机器的主机名称\n%M 机器的完全符合规范的域名\n%n 用户名\n%p 用精确格式（包括秒）显示的12小时制时间\n%P 用精确格式（包括秒）显示的24小时制时间\n%S 开始标准输出格式\n%s 结束标准输出格式\n%t 以12小时制格式显示时间\n%T 以24小时制格式显示时间\n%U 开始下划线模式\n%u 结束下划线模式\n%w 当前月的名称\n%W 当前月的序数\n%y 以2位格式表示的年\n%Y 以4位格式表示的年\n%% %字符\n%! 跟%h相同\n%@ 跟%t相同\n$# 扩展到>供常规使用，如果用户正以root身份运行的话，就扩展到#\n%/ 当前工作目录的完整名称\n%- 以短格式表示的当前工作目录\n^C 跟C匹配的控制字符：例如^G代表Ctrl+G\n\\a 使tcsh在任何时候显示提示符时嘟嘟响\n\\e 终止的escape符0x1B\n\\f 终止的换页符\n\\n 在这个位置开始一个新行\n\\r 回车符\n\\t Tab制表符\n\\v 垂直制表符\n\\nnn 由八进制数字nnn所指定的字符\n```","slug":"zsh自定义","published":1,"updated":"2019-05-23T06:58:59.146Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckniaipw20009lspagdzpfaat","content":"<h3 id=\"修改-zshrc文件\"><a href=\"#修改-zshrc文件\" class=\"headerlink\" title=\"修改 ~/.zshrc文件\"></a>修改 ~/.zshrc文件</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">添加：</span><br><span class=\"line\">PROMPT = &quot;%n@%m &gt;&gt;&gt;&quot;  #左提示符</span><br><span class=\"line\">RPROMPT = &quot;%/&quot;        #右提示符</span><br><span class=\"line\"></span><br><span class=\"line\">添加颜色：</span><br><span class=\"line\">#导入 colors</span><br><span class=\"line\">autoload -U colors &amp;&amp; colors</span><br><span class=\"line\"></span><br><span class=\"line\">$fg[red]              #颜色改变的开始位置</span><br><span class=\"line\">$reset_color          #颜色改变的结束位置</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">我的~/.zshrc中 PROMPT设置：</span><br><span class=\"line\">PROMPT=$&apos;%&#123;$fg[cyan]%&#125;%* %D%&#123;$reset_color%&#125;|%&#123;$fg[white]%&#125;%U%n%u@%U%m%u%&#123;$reset_color%&#125;|%&#123;$fg[yellow]%&#125;D:%B%~%b &gt;&gt;&gt; %&#123;$reset_color%&#125;\\n%# &apos;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">附上一些常用的预定义prompt参数：</span><br><span class=\"line\">! 和%h一样</span><br><span class=\"line\">%B 开始粗体模式</span><br><span class=\"line\">%b 结束粗体模式</span><br><span class=\"line\">%c 当前工作目录名称的最后部分</span><br><span class=\"line\">%C 跟%c类似，但是使用长形式的目录名称</span><br><span class=\"line\">%d 本周的当天</span><br><span class=\"line\">%D 今天是当月中的第几天</span><br><span class=\"line\">%h 当前命令的历史记录编号</span><br><span class=\"line\">%l shell的当前控制终端</span><br><span class=\"line\">%L 清除从提示符末尾到下一行的所有内容</span><br><span class=\"line\">%m 机器的主机名称</span><br><span class=\"line\">%M 机器的完全符合规范的域名</span><br><span class=\"line\">%n 用户名</span><br><span class=\"line\">%p 用精确格式（包括秒）显示的12小时制时间</span><br><span class=\"line\">%P 用精确格式（包括秒）显示的24小时制时间</span><br><span class=\"line\">%S 开始标准输出格式</span><br><span class=\"line\">%s 结束标准输出格式</span><br><span class=\"line\">%t 以12小时制格式显示时间</span><br><span class=\"line\">%T 以24小时制格式显示时间</span><br><span class=\"line\">%U 开始下划线模式</span><br><span class=\"line\">%u 结束下划线模式</span><br><span class=\"line\">%w 当前月的名称</span><br><span class=\"line\">%W 当前月的序数</span><br><span class=\"line\">%y 以2位格式表示的年</span><br><span class=\"line\">%Y 以4位格式表示的年</span><br><span class=\"line\">%% %字符</span><br><span class=\"line\">%! 跟%h相同</span><br><span class=\"line\">%@ 跟%t相同</span><br><span class=\"line\">$# 扩展到&gt;供常规使用，如果用户正以root身份运行的话，就扩展到#</span><br><span class=\"line\">%/ 当前工作目录的完整名称</span><br><span class=\"line\">%- 以短格式表示的当前工作目录</span><br><span class=\"line\">^C 跟C匹配的控制字符：例如^G代表Ctrl+G</span><br><span class=\"line\">\\a 使tcsh在任何时候显示提示符时嘟嘟响</span><br><span class=\"line\">\\e 终止的escape符0x1B</span><br><span class=\"line\">\\f 终止的换页符</span><br><span class=\"line\">\\n 在这个位置开始一个新行</span><br><span class=\"line\">\\r 回车符</span><br><span class=\"line\">\\t Tab制表符</span><br><span class=\"line\">\\v 垂直制表符</span><br><span class=\"line\">\\nnn 由八进制数字nnn所指定的字符</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<h3 id=\"修改-zshrc文件\"><a href=\"#修改-zshrc文件\" class=\"headerlink\" title=\"修改 ~/.zshrc文件\"></a>修改 ~/.zshrc文件</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">添加：</span><br><span class=\"line\">PROMPT = &quot;%n@%m &gt;&gt;&gt;&quot;  #左提示符</span><br><span class=\"line\">RPROMPT = &quot;%/&quot;        #右提示符</span><br><span class=\"line\"></span><br><span class=\"line\">添加颜色：</span><br><span class=\"line\">#导入 colors</span><br><span class=\"line\">autoload -U colors &amp;&amp; colors</span><br><span class=\"line\"></span><br><span class=\"line\">$fg[red]              #颜色改变的开始位置</span><br><span class=\"line\">$reset_color          #颜色改变的结束位置</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">我的~/.zshrc中 PROMPT设置：</span><br><span class=\"line\">PROMPT=$&apos;%&#123;$fg[cyan]%&#125;%* %D%&#123;$reset_color%&#125;|%&#123;$fg[white]%&#125;%U%n%u@%U%m%u%&#123;$reset_color%&#125;|%&#123;$fg[yellow]%&#125;D:%B%~%b &gt;&gt;&gt; %&#123;$reset_color%&#125;\\n%# &apos;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">附上一些常用的预定义prompt参数：</span><br><span class=\"line\">! 和%h一样</span><br><span class=\"line\">%B 开始粗体模式</span><br><span class=\"line\">%b 结束粗体模式</span><br><span class=\"line\">%c 当前工作目录名称的最后部分</span><br><span class=\"line\">%C 跟%c类似，但是使用长形式的目录名称</span><br><span class=\"line\">%d 本周的当天</span><br><span class=\"line\">%D 今天是当月中的第几天</span><br><span class=\"line\">%h 当前命令的历史记录编号</span><br><span class=\"line\">%l shell的当前控制终端</span><br><span class=\"line\">%L 清除从提示符末尾到下一行的所有内容</span><br><span class=\"line\">%m 机器的主机名称</span><br><span class=\"line\">%M 机器的完全符合规范的域名</span><br><span class=\"line\">%n 用户名</span><br><span class=\"line\">%p 用精确格式（包括秒）显示的12小时制时间</span><br><span class=\"line\">%P 用精确格式（包括秒）显示的24小时制时间</span><br><span class=\"line\">%S 开始标准输出格式</span><br><span class=\"line\">%s 结束标准输出格式</span><br><span class=\"line\">%t 以12小时制格式显示时间</span><br><span class=\"line\">%T 以24小时制格式显示时间</span><br><span class=\"line\">%U 开始下划线模式</span><br><span class=\"line\">%u 结束下划线模式</span><br><span class=\"line\">%w 当前月的名称</span><br><span class=\"line\">%W 当前月的序数</span><br><span class=\"line\">%y 以2位格式表示的年</span><br><span class=\"line\">%Y 以4位格式表示的年</span><br><span class=\"line\">%% %字符</span><br><span class=\"line\">%! 跟%h相同</span><br><span class=\"line\">%@ 跟%t相同</span><br><span class=\"line\">$# 扩展到&gt;供常规使用，如果用户正以root身份运行的话，就扩展到#</span><br><span class=\"line\">%/ 当前工作目录的完整名称</span><br><span class=\"line\">%- 以短格式表示的当前工作目录</span><br><span class=\"line\">^C 跟C匹配的控制字符：例如^G代表Ctrl+G</span><br><span class=\"line\">\\a 使tcsh在任何时候显示提示符时嘟嘟响</span><br><span class=\"line\">\\e 终止的escape符0x1B</span><br><span class=\"line\">\\f 终止的换页符</span><br><span class=\"line\">\\n 在这个位置开始一个新行</span><br><span class=\"line\">\\r 回车符</span><br><span class=\"line\">\\t Tab制表符</span><br><span class=\"line\">\\v 垂直制表符</span><br><span class=\"line\">\\nnn 由八进制数字nnn所指定的字符</span><br></pre></td></tr></table></figure>"},{"title":"vue中不同样式写法的优先级","author":"twh","date":"2020-08-03T01:45:00.000Z","_content":"# vue中不同样式写法的优先级\n\n### 先直接上代码\n\n> html\n```html\n<div class=\"hello\">\n  <h1>{{ msg }}</h1>\n  <h1 class=\"style-template\">{{ msg }}</h1>\n  <h1 class=\"style-template\" style=\"color: red;\">{{ msg }}</h1>\n  <h1>\n    <span>{{ msg }}</span>\n    <br>\n    <span class=\"style-template\">{{ msg }}</span>\n    <br>\n    <span class=\"style-template\" style=\"color: red;\">{{ msg }}</span>\n  </h1>\n</div>\n```\n\n> css\n```css\nh1 {\n  color: green;\n  .style-template {\n    color: brown;\n  }\n  span {\n    color: chartreuse;\n  }\n}\n.style-template {\n  color: blue;\n}\n```\n\n### 主要有几种写法：\n1. html元素的css\n2. 在元素下设置子元素样式\n3. 元素设置class属性\n4. 元素设置style属性\n\n### 代码实际运行结果：\n![css-demo](/images/WX20200807-102652.png)\n\n### 根据实验得出结论（优先级从高到底）：\n> **元素设置style属性 > 元素设置class属性 > 在元素下设置子元素样式 > html元素的css**","source":"_posts/vue中不同样式写法的优先级.md","raw":"title: vue中不同样式写法的优先级\nauthor: twh\ntags:\n  - vue\n  - css\ncategories:\n  - vuejs\ndate: 2020-08-03 09:45:00\n---\n# vue中不同样式写法的优先级\n\n### 先直接上代码\n\n> html\n```html\n<div class=\"hello\">\n  <h1>{{ msg }}</h1>\n  <h1 class=\"style-template\">{{ msg }}</h1>\n  <h1 class=\"style-template\" style=\"color: red;\">{{ msg }}</h1>\n  <h1>\n    <span>{{ msg }}</span>\n    <br>\n    <span class=\"style-template\">{{ msg }}</span>\n    <br>\n    <span class=\"style-template\" style=\"color: red;\">{{ msg }}</span>\n  </h1>\n</div>\n```\n\n> css\n```css\nh1 {\n  color: green;\n  .style-template {\n    color: brown;\n  }\n  span {\n    color: chartreuse;\n  }\n}\n.style-template {\n  color: blue;\n}\n```\n\n### 主要有几种写法：\n1. html元素的css\n2. 在元素下设置子元素样式\n3. 元素设置class属性\n4. 元素设置style属性\n\n### 代码实际运行结果：\n![css-demo](/images/WX20200807-102652.png)\n\n### 根据实验得出结论（优先级从高到底）：\n> **元素设置style属性 > 元素设置class属性 > 在元素下设置子元素样式 > html元素的css**","slug":"vue中不同样式写法的优先级","published":1,"updated":"2020-08-07T02:43:37.327Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckniaipw3000clspa2v48gw4e","content":"<h1 id=\"vue中不同样式写法的优先级\"><a href=\"#vue中不同样式写法的优先级\" class=\"headerlink\" title=\"vue中不同样式写法的优先级\"></a>vue中不同样式写法的优先级</h1><h3 id=\"先直接上代码\"><a href=\"#先直接上代码\" class=\"headerlink\" title=\"先直接上代码\"></a>先直接上代码</h3><blockquote>\n<p>html</p>\n</blockquote>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"hello\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>&#123;&#123; msg &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">h1</span> <span class=\"attr\">class</span>=<span class=\"string\">\"style-template\"</span>&gt;</span>&#123;&#123; msg &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">h1</span> <span class=\"attr\">class</span>=<span class=\"string\">\"style-template\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"color: red;\"</span>&gt;</span>&#123;&#123; msg &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>&#123;&#123; msg &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">br</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"style-template\"</span>&gt;</span>&#123;&#123; msg &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">br</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"style-template\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"color: red;\"</span>&gt;</span>&#123;&#123; msg &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>css</p>\n</blockquote>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">h1</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: green;</span><br><span class=\"line\">  .style-template &#123;</span><br><span class=\"line\">    <span class=\"selector-tag\">color</span>: <span class=\"selector-tag\">brown</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-tag\">span</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: chartreuse;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.style-template</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: blue;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"主要有几种写法：\"><a href=\"#主要有几种写法：\" class=\"headerlink\" title=\"主要有几种写法：\"></a>主要有几种写法：</h3><ol>\n<li>html元素的css</li>\n<li>在元素下设置子元素样式</li>\n<li>元素设置class属性</li>\n<li>元素设置style属性</li>\n</ol>\n<h3 id=\"代码实际运行结果：\"><a href=\"#代码实际运行结果：\" class=\"headerlink\" title=\"代码实际运行结果：\"></a>代码实际运行结果：</h3><p><img src=\"/images/WX20200807-102652.png\" alt=\"css-demo\"></p>\n<h3 id=\"根据实验得出结论（优先级从高到底）：\"><a href=\"#根据实验得出结论（优先级从高到底）：\" class=\"headerlink\" title=\"根据实验得出结论（优先级从高到底）：\"></a>根据实验得出结论（优先级从高到底）：</h3><blockquote>\n<p><strong>元素设置style属性 &gt; 元素设置class属性 &gt; 在元素下设置子元素样式 &gt; html元素的css</strong></p>\n</blockquote>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"vue中不同样式写法的优先级\"><a href=\"#vue中不同样式写法的优先级\" class=\"headerlink\" title=\"vue中不同样式写法的优先级\"></a>vue中不同样式写法的优先级</h1><h3 id=\"先直接上代码\"><a href=\"#先直接上代码\" class=\"headerlink\" title=\"先直接上代码\"></a>先直接上代码</h3><blockquote>\n<p>html</p>\n</blockquote>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"hello\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>&#123;&#123; msg &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">h1</span> <span class=\"attr\">class</span>=<span class=\"string\">\"style-template\"</span>&gt;</span>&#123;&#123; msg &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">h1</span> <span class=\"attr\">class</span>=<span class=\"string\">\"style-template\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"color: red;\"</span>&gt;</span>&#123;&#123; msg &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>&#123;&#123; msg &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">br</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"style-template\"</span>&gt;</span>&#123;&#123; msg &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">br</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"style-template\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"color: red;\"</span>&gt;</span>&#123;&#123; msg &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>css</p>\n</blockquote>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">h1</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: green;</span><br><span class=\"line\">  .style-template &#123;</span><br><span class=\"line\">    <span class=\"selector-tag\">color</span>: <span class=\"selector-tag\">brown</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"selector-tag\">span</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: chartreuse;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.style-template</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: blue;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"主要有几种写法：\"><a href=\"#主要有几种写法：\" class=\"headerlink\" title=\"主要有几种写法：\"></a>主要有几种写法：</h3><ol>\n<li>html元素的css</li>\n<li>在元素下设置子元素样式</li>\n<li>元素设置class属性</li>\n<li>元素设置style属性</li>\n</ol>\n<h3 id=\"代码实际运行结果：\"><a href=\"#代码实际运行结果：\" class=\"headerlink\" title=\"代码实际运行结果：\"></a>代码实际运行结果：</h3><p><img src=\"/images/WX20200807-102652.png\" alt=\"css-demo\"></p>\n<h3 id=\"根据实验得出结论（优先级从高到底）：\"><a href=\"#根据实验得出结论（优先级从高到底）：\" class=\"headerlink\" title=\"根据实验得出结论（优先级从高到底）：\"></a>根据实验得出结论（优先级从高到底）：</h3><blockquote>\n<p><strong>元素设置style属性 &gt; 元素设置class属性 &gt; 在元素下设置子元素样式 &gt; html元素的css</strong></p>\n</blockquote>\n"},{"title":"给外网nextcloud设置服务器地址","author":"weihai","date":"2020-03-24T01:47:00.000Z","_content":"# 给外网nextcloud设置服务器地址\n\n最近搭建了自己的nextcloud，但是电脑客户端登录时遇到验证问题，验证时跳转的域名总是localhost，并不是我外网的真实域名。\n\n查了nextcloud很多设置，终于在侧边栏“手机与电脑”设置中，找到一个“服务器地址”的设置。这里出问题时显示的就是localhost加一个端口号，现在通过修改配置改成了自己外网的域名。\n![服务器地址](/images/server-url.png)\n\n\n### 如何修改服务器地址\n> 我参考了这片文章 https://blog.haitianhome.com/nextcloud-config-php.html?replytocom=77#respond\n\n只修改了两个字段\n\n    'overwritehost' => 'cloud.xxx.xxx',\t\t    #重写地址\n    'overwriteprotocol' => 'https',\t\t  #协议, 可选 : HTTP、HTTPS\n","source":"_posts/给外网nextcloud设置服务器地址.md","raw":"title: 给外网nextcloud设置服务器地址\nauthor: weihai\ntags:\n  - nextcloud\n  - proxy\ncategories: []\ndate: 2020-03-24 09:47:00\n---\n# 给外网nextcloud设置服务器地址\n\n最近搭建了自己的nextcloud，但是电脑客户端登录时遇到验证问题，验证时跳转的域名总是localhost，并不是我外网的真实域名。\n\n查了nextcloud很多设置，终于在侧边栏“手机与电脑”设置中，找到一个“服务器地址”的设置。这里出问题时显示的就是localhost加一个端口号，现在通过修改配置改成了自己外网的域名。\n![服务器地址](/images/server-url.png)\n\n\n### 如何修改服务器地址\n> 我参考了这片文章 https://blog.haitianhome.com/nextcloud-config-php.html?replytocom=77#respond\n\n只修改了两个字段\n\n    'overwritehost' => 'cloud.xxx.xxx',\t\t    #重写地址\n    'overwriteprotocol' => 'https',\t\t  #协议, 可选 : HTTP、HTTPS\n","slug":"给外网nextcloud设置服务器地址","published":1,"updated":"2020-03-24T01:57:51.293Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckniaipwc0018lspabtobnity","content":"<h1 id=\"给外网nextcloud设置服务器地址\"><a href=\"#给外网nextcloud设置服务器地址\" class=\"headerlink\" title=\"给外网nextcloud设置服务器地址\"></a>给外网nextcloud设置服务器地址</h1><p>最近搭建了自己的nextcloud，但是电脑客户端登录时遇到验证问题，验证时跳转的域名总是localhost，并不是我外网的真实域名。</p>\n<p>查了nextcloud很多设置，终于在侧边栏“手机与电脑”设置中，找到一个“服务器地址”的设置。这里出问题时显示的就是localhost加一个端口号，现在通过修改配置改成了自己外网的域名。<br><img src=\"/images/server-url.png\" alt=\"服务器地址\"></p>\n<h3 id=\"如何修改服务器地址\"><a href=\"#如何修改服务器地址\" class=\"headerlink\" title=\"如何修改服务器地址\"></a>如何修改服务器地址</h3><blockquote>\n<p>我参考了这片文章 <a href=\"https://blog.haitianhome.com/nextcloud-config-php.html?replytocom=77#respond\" target=\"_blank\" rel=\"noopener\">https://blog.haitianhome.com/nextcloud-config-php.html?replytocom=77#respond</a></p>\n</blockquote>\n<p>只修改了两个字段</p>\n<pre><code>&apos;overwritehost&apos; =&gt; &apos;cloud.xxx.xxx&apos;,            #重写地址\n&apos;overwriteprotocol&apos; =&gt; &apos;https&apos;,          #协议, 可选 : HTTP、HTTPS</code></pre>","site":{"data":{}},"excerpt":"","more":"<h1 id=\"给外网nextcloud设置服务器地址\"><a href=\"#给外网nextcloud设置服务器地址\" class=\"headerlink\" title=\"给外网nextcloud设置服务器地址\"></a>给外网nextcloud设置服务器地址</h1><p>最近搭建了自己的nextcloud，但是电脑客户端登录时遇到验证问题，验证时跳转的域名总是localhost，并不是我外网的真实域名。</p>\n<p>查了nextcloud很多设置，终于在侧边栏“手机与电脑”设置中，找到一个“服务器地址”的设置。这里出问题时显示的就是localhost加一个端口号，现在通过修改配置改成了自己外网的域名。<br><img src=\"/images/server-url.png\" alt=\"服务器地址\"></p>\n<h3 id=\"如何修改服务器地址\"><a href=\"#如何修改服务器地址\" class=\"headerlink\" title=\"如何修改服务器地址\"></a>如何修改服务器地址</h3><blockquote>\n<p>我参考了这片文章 <a href=\"https://blog.haitianhome.com/nextcloud-config-php.html?replytocom=77#respond\" target=\"_blank\" rel=\"noopener\">https://blog.haitianhome.com/nextcloud-config-php.html?replytocom=77#respond</a></p>\n</blockquote>\n<p>只修改了两个字段</p>\n<pre><code>&apos;overwritehost&apos; =&gt; &apos;cloud.xxx.xxx&apos;,            #重写地址\n&apos;overwriteprotocol&apos; =&gt; &apos;https&apos;,          #协议, 可选 : HTTP、HTTPS</code></pre>"},{"title":"移动端h5中viewpoint的使用","author":"weihai","date":"2019-11-04T07:25:00.000Z","_content":"# 移动端h5中viewpoint的使用\n\n## 问题的引入\n公司vue前端项目，嵌入到企业微信应用中使用，发现不能双指缩放html页面，在uc浏览器里可以使用双指缩放页面，误以为企业微信设置问题（走了一点弯路）；再使用手机版chrome浏览器发现也不能使用双指 缩放，所以排除是企业微信的问题。网上一搜“vue 禁止 缩放”，一下就定位到viewpoint了。\n\n> [据说](http://www.sunqizheng.com/blog/798.html)有些移动端浏览器，比如IOS10以上的Safari，安卓系统下的UC浏览器、QQ浏览器等，为了更好的用户体验，并没有遵循开发者禁止缩放的指定，虽然meta标签按如上写法，但依然允许用户双指缩放和双击放大。\n\n## 问题的解决\n1. 找到vue项目的入口index.html，发现里面确实有控制移动端缩放的代码\n```html\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no\">\n```\n2. user-scalable = no，表示禁止用户缩放，所以要改成yes或直接删掉user-scalable，同时调整放大倍数\n```html\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=3, user-scalable=yes\">\n```\n3. 实际测试，可以在移动端企业微信和chrome下缩放\n\n\n\n----\n## 顺便学习一下viewpoint，了解下怎么使用，参数怎么设置\n原文链接：https://blog.csdn.net/shenlei19911210/article/details/51284910\n\n```html\n     <!-- html document -->\n     <meta name=\"viewport\"\n         content=\"\n             height = [pixel_value | device-height] ,\n             width = [pixel_value | device-width ] ,\n             initial-scale = float_value ,\n             minimum-scale = float_value ,\n             maximum-scale = float_value ,\n             user-scalable = [yes | no] ,\n             target-densitydpi = [dpi_value | device-dpi | high-dpi | medium-dpi | low-dpi]\n         \"\n     />\n```\n\n#### width\n控制 viewport 的大小，pixel_value表示可以指定的一个值或者特殊的值，而device-width 为设备的宽度（单位为缩放为 100% 时的 CSS 的像素）。\n\n#### height\n和 width 相对应，指定高度。\n\n#### target-densitydpi\n一个屏幕像素密度是由屏幕分辨率决定的，通常定义为每英寸点的数量（dpi）。Android支持三种屏幕像素密度：低像素密度，中像素密度，高像素密度。一个低像素密度的屏幕每英寸上的像素点更少，而一个高像素密度的屏幕每英寸上的像素点更多。Android Browser和WebView默认屏幕为中像素密度。\n\n下面是 target-densitydpi 属性的 取值范围\n> 1. device-dpi – 使用设备原本的 dpi 作为目标 dp。 不会发生默认缩放。\n> 2. high-dpi – 使用hdpi 作为目标 dpi。 中等像素密度和低像素密度设备相应缩小。 \n> 3. medium-dpi – 使用mdpi作为目标 dpi。 高像素密度设备相应放大， 像素密度设备相应缩小。 这是默认的target density. \n> 4. low-dpi - 使用mdpi作为目标 dpi。中等像素密度和高像素密度设备相应放大。\n> 5. dpi_value – 指定一个具体的dpi 值作为target dpi. 这个值的范围必须在**70–400**之间。\n\n为了防止Android Browser和WebView 根据不同屏幕的像素密度对你的页面进行缩放，你可以将viewport的target-densitydpi 设置为 device-dpi。当你这么做了，页面将不会缩放。相反，页面会根据当前屏幕的像素密度进行展示。在这种情形下，你还需要将viewport的width定义为与设备的width匹配，这样你的页面就可以和屏幕相适应。\n\n#### initial-scale\n初始缩放。即页面初始缩放程度。这是一个浮点值，是页面大小的一个乘数。例如，如果你设置初始缩放为“1.0”，那么，web页面在展现的时候就会以target density分辨率的1:1来展现。如果你设置为“2.0”，那么这个页面就会放大为2倍。\n\n#### maximum-scale\n最大缩放。即允许的最大缩放程度。这也是一个浮点值，用以指出页面大小与屏幕大小相比的最大乘数。例如，如果你将这个值设置为“2.0”，那么这个页面与target size相比，最多能放大2倍。\n\n#### user-scalable\n用户调整缩放。即用户是否能改变页面缩放程度。如果设置为yes则是允许用户对其进行改变，反之为no。**默认值是yes**。如果你将其设置为no，那么minimum-scale 和 maximum-scale都将被忽略，因为根本不可能缩放。\n\n(**所有的缩放值都必须在0.01–10的范围之内。**)\n\n### 例：\n\n(设置屏幕宽度为设备宽度，禁止用户手动调整缩放)\n```html\n <meta name=\"viewport\" content=\"width=device-width,user-scalable=no\" />\n```\n(设置屏幕密度为高频，中频，低频自动缩放，禁止用户手动调整缩放)\n```html\n<meta name=\"viewport\" content=\"width=device-width,target-densitydpi=high-dpi,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no\"/>\n```\n","source":"_posts/移动端h5中viewpoint的使用.md","raw":"title: 移动端h5中viewpoint的使用\nauthor: weihai\ntags:\n  - html5\n  - viewpoint\ncategories: []\ndate: 2019-11-04 15:25:00\n---\n# 移动端h5中viewpoint的使用\n\n## 问题的引入\n公司vue前端项目，嵌入到企业微信应用中使用，发现不能双指缩放html页面，在uc浏览器里可以使用双指缩放页面，误以为企业微信设置问题（走了一点弯路）；再使用手机版chrome浏览器发现也不能使用双指 缩放，所以排除是企业微信的问题。网上一搜“vue 禁止 缩放”，一下就定位到viewpoint了。\n\n> [据说](http://www.sunqizheng.com/blog/798.html)有些移动端浏览器，比如IOS10以上的Safari，安卓系统下的UC浏览器、QQ浏览器等，为了更好的用户体验，并没有遵循开发者禁止缩放的指定，虽然meta标签按如上写法，但依然允许用户双指缩放和双击放大。\n\n## 问题的解决\n1. 找到vue项目的入口index.html，发现里面确实有控制移动端缩放的代码\n```html\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no\">\n```\n2. user-scalable = no，表示禁止用户缩放，所以要改成yes或直接删掉user-scalable，同时调整放大倍数\n```html\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=3, user-scalable=yes\">\n```\n3. 实际测试，可以在移动端企业微信和chrome下缩放\n\n\n\n----\n## 顺便学习一下viewpoint，了解下怎么使用，参数怎么设置\n原文链接：https://blog.csdn.net/shenlei19911210/article/details/51284910\n\n```html\n     <!-- html document -->\n     <meta name=\"viewport\"\n         content=\"\n             height = [pixel_value | device-height] ,\n             width = [pixel_value | device-width ] ,\n             initial-scale = float_value ,\n             minimum-scale = float_value ,\n             maximum-scale = float_value ,\n             user-scalable = [yes | no] ,\n             target-densitydpi = [dpi_value | device-dpi | high-dpi | medium-dpi | low-dpi]\n         \"\n     />\n```\n\n#### width\n控制 viewport 的大小，pixel_value表示可以指定的一个值或者特殊的值，而device-width 为设备的宽度（单位为缩放为 100% 时的 CSS 的像素）。\n\n#### height\n和 width 相对应，指定高度。\n\n#### target-densitydpi\n一个屏幕像素密度是由屏幕分辨率决定的，通常定义为每英寸点的数量（dpi）。Android支持三种屏幕像素密度：低像素密度，中像素密度，高像素密度。一个低像素密度的屏幕每英寸上的像素点更少，而一个高像素密度的屏幕每英寸上的像素点更多。Android Browser和WebView默认屏幕为中像素密度。\n\n下面是 target-densitydpi 属性的 取值范围\n> 1. device-dpi – 使用设备原本的 dpi 作为目标 dp。 不会发生默认缩放。\n> 2. high-dpi – 使用hdpi 作为目标 dpi。 中等像素密度和低像素密度设备相应缩小。 \n> 3. medium-dpi – 使用mdpi作为目标 dpi。 高像素密度设备相应放大， 像素密度设备相应缩小。 这是默认的target density. \n> 4. low-dpi - 使用mdpi作为目标 dpi。中等像素密度和高像素密度设备相应放大。\n> 5. dpi_value – 指定一个具体的dpi 值作为target dpi. 这个值的范围必须在**70–400**之间。\n\n为了防止Android Browser和WebView 根据不同屏幕的像素密度对你的页面进行缩放，你可以将viewport的target-densitydpi 设置为 device-dpi。当你这么做了，页面将不会缩放。相反，页面会根据当前屏幕的像素密度进行展示。在这种情形下，你还需要将viewport的width定义为与设备的width匹配，这样你的页面就可以和屏幕相适应。\n\n#### initial-scale\n初始缩放。即页面初始缩放程度。这是一个浮点值，是页面大小的一个乘数。例如，如果你设置初始缩放为“1.0”，那么，web页面在展现的时候就会以target density分辨率的1:1来展现。如果你设置为“2.0”，那么这个页面就会放大为2倍。\n\n#### maximum-scale\n最大缩放。即允许的最大缩放程度。这也是一个浮点值，用以指出页面大小与屏幕大小相比的最大乘数。例如，如果你将这个值设置为“2.0”，那么这个页面与target size相比，最多能放大2倍。\n\n#### user-scalable\n用户调整缩放。即用户是否能改变页面缩放程度。如果设置为yes则是允许用户对其进行改变，反之为no。**默认值是yes**。如果你将其设置为no，那么minimum-scale 和 maximum-scale都将被忽略，因为根本不可能缩放。\n\n(**所有的缩放值都必须在0.01–10的范围之内。**)\n\n### 例：\n\n(设置屏幕宽度为设备宽度，禁止用户手动调整缩放)\n```html\n <meta name=\"viewport\" content=\"width=device-width,user-scalable=no\" />\n```\n(设置屏幕密度为高频，中频，低频自动缩放，禁止用户手动调整缩放)\n```html\n<meta name=\"viewport\" content=\"width=device-width,target-densitydpi=high-dpi,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no\"/>\n```\n","slug":"移动端h5中viewpoint的使用","published":1,"updated":"2019-11-04T08:01:52.196Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckniaipwf001alspaejlntyg2","content":"<h1 id=\"移动端h5中viewpoint的使用\"><a href=\"#移动端h5中viewpoint的使用\" class=\"headerlink\" title=\"移动端h5中viewpoint的使用\"></a>移动端h5中viewpoint的使用</h1><h2 id=\"问题的引入\"><a href=\"#问题的引入\" class=\"headerlink\" title=\"问题的引入\"></a>问题的引入</h2><p>公司vue前端项目，嵌入到企业微信应用中使用，发现不能双指缩放html页面，在uc浏览器里可以使用双指缩放页面，误以为企业微信设置问题（走了一点弯路）；再使用手机版chrome浏览器发现也不能使用双指 缩放，所以排除是企业微信的问题。网上一搜“vue 禁止 缩放”，一下就定位到viewpoint了。</p>\n<blockquote>\n<p><a href=\"http://www.sunqizheng.com/blog/798.html\" target=\"_blank\" rel=\"noopener\">据说</a>有些移动端浏览器，比如IOS10以上的Safari，安卓系统下的UC浏览器、QQ浏览器等，为了更好的用户体验，并没有遵循开发者禁止缩放的指定，虽然meta标签按如上写法，但依然允许用户双指缩放和双击放大。</p>\n</blockquote>\n<h2 id=\"问题的解决\"><a href=\"#问题的解决\" class=\"headerlink\" title=\"问题的解决\"></a>问题的解决</h2><ol>\n<li><p>找到vue项目的入口index.html，发现里面确实有控制移动端缩放的代码</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">\"viewport\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no\"</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>user-scalable = no，表示禁止用户缩放，所以要改成yes或直接删掉user-scalable，同时调整放大倍数</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">\"viewport\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"width=device-width, initial-scale=1, maximum-scale=3, user-scalable=yes\"</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>实际测试，可以在移动端企业微信和chrome下缩放</p>\n</li>\n</ol>\n<hr>\n<h2 id=\"顺便学习一下viewpoint，了解下怎么使用，参数怎么设置\"><a href=\"#顺便学习一下viewpoint，了解下怎么使用，参数怎么设置\" class=\"headerlink\" title=\"顺便学习一下viewpoint，了解下怎么使用，参数怎么设置\"></a>顺便学习一下viewpoint，了解下怎么使用，参数怎么设置</h2><p>原文链接：<a href=\"https://blog.csdn.net/shenlei19911210/article/details/51284910\" target=\"_blank\" rel=\"noopener\">https://blog.csdn.net/shenlei19911210/article/details/51284910</a></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- html document --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">\"viewport\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">content</span>=<span class=\"string\">\"</span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"string\">        height = [pixel_value | device-height] ,</span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"string\">        width = [pixel_value | device-width ] ,</span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"string\">        initial-scale = float_value ,</span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"string\">        minimum-scale = float_value ,</span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"string\">        maximum-scale = float_value ,</span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"string\">        user-scalable = [yes | no] ,</span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"string\">        target-densitydpi = [dpi_value | device-dpi | high-dpi | medium-dpi | low-dpi]</span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"string\">    \"</span></span></span><br><span class=\"line\"><span class=\"tag\">/&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"width\"><a href=\"#width\" class=\"headerlink\" title=\"width\"></a>width</h4><p>控制 viewport 的大小，pixel_value表示可以指定的一个值或者特殊的值，而device-width 为设备的宽度（单位为缩放为 100% 时的 CSS 的像素）。</p>\n<h4 id=\"height\"><a href=\"#height\" class=\"headerlink\" title=\"height\"></a>height</h4><p>和 width 相对应，指定高度。</p>\n<h4 id=\"target-densitydpi\"><a href=\"#target-densitydpi\" class=\"headerlink\" title=\"target-densitydpi\"></a>target-densitydpi</h4><p>一个屏幕像素密度是由屏幕分辨率决定的，通常定义为每英寸点的数量（dpi）。Android支持三种屏幕像素密度：低像素密度，中像素密度，高像素密度。一个低像素密度的屏幕每英寸上的像素点更少，而一个高像素密度的屏幕每英寸上的像素点更多。Android Browser和WebView默认屏幕为中像素密度。</p>\n<p>下面是 target-densitydpi 属性的 取值范围</p>\n<blockquote>\n<ol>\n<li>device-dpi – 使用设备原本的 dpi 作为目标 dp。 不会发生默认缩放。</li>\n<li>high-dpi – 使用hdpi 作为目标 dpi。 中等像素密度和低像素密度设备相应缩小。 </li>\n<li>medium-dpi – 使用mdpi作为目标 dpi。 高像素密度设备相应放大， 像素密度设备相应缩小。 这是默认的target density. </li>\n<li>low-dpi - 使用mdpi作为目标 dpi。中等像素密度和高像素密度设备相应放大。</li>\n<li>dpi_value – 指定一个具体的dpi 值作为target dpi. 这个值的范围必须在<strong>70–400</strong>之间。</li>\n</ol>\n</blockquote>\n<p>为了防止Android Browser和WebView 根据不同屏幕的像素密度对你的页面进行缩放，你可以将viewport的target-densitydpi 设置为 device-dpi。当你这么做了，页面将不会缩放。相反，页面会根据当前屏幕的像素密度进行展示。在这种情形下，你还需要将viewport的width定义为与设备的width匹配，这样你的页面就可以和屏幕相适应。</p>\n<h4 id=\"initial-scale\"><a href=\"#initial-scale\" class=\"headerlink\" title=\"initial-scale\"></a>initial-scale</h4><p>初始缩放。即页面初始缩放程度。这是一个浮点值，是页面大小的一个乘数。例如，如果你设置初始缩放为“1.0”，那么，web页面在展现的时候就会以target density分辨率的1:1来展现。如果你设置为“2.0”，那么这个页面就会放大为2倍。</p>\n<h4 id=\"maximum-scale\"><a href=\"#maximum-scale\" class=\"headerlink\" title=\"maximum-scale\"></a>maximum-scale</h4><p>最大缩放。即允许的最大缩放程度。这也是一个浮点值，用以指出页面大小与屏幕大小相比的最大乘数。例如，如果你将这个值设置为“2.0”，那么这个页面与target size相比，最多能放大2倍。</p>\n<h4 id=\"user-scalable\"><a href=\"#user-scalable\" class=\"headerlink\" title=\"user-scalable\"></a>user-scalable</h4><p>用户调整缩放。即用户是否能改变页面缩放程度。如果设置为yes则是允许用户对其进行改变，反之为no。<strong>默认值是yes</strong>。如果你将其设置为no，那么minimum-scale 和 maximum-scale都将被忽略，因为根本不可能缩放。</p>\n<p>(<strong>所有的缩放值都必须在0.01–10的范围之内。</strong>)</p>\n<h3 id=\"例：\"><a href=\"#例：\" class=\"headerlink\" title=\"例：\"></a>例：</h3><p>(设置屏幕宽度为设备宽度，禁止用户手动调整缩放)</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">\"viewport\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"width=device-width,user-scalable=no\"</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>(设置屏幕密度为高频，中频，低频自动缩放，禁止用户手动调整缩放)</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">\"viewport\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"width=device-width,target-densitydpi=high-dpi,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no\"</span>/&gt;</span></span><br></pre></td></tr></table></figure>\n\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"移动端h5中viewpoint的使用\"><a href=\"#移动端h5中viewpoint的使用\" class=\"headerlink\" title=\"移动端h5中viewpoint的使用\"></a>移动端h5中viewpoint的使用</h1><h2 id=\"问题的引入\"><a href=\"#问题的引入\" class=\"headerlink\" title=\"问题的引入\"></a>问题的引入</h2><p>公司vue前端项目，嵌入到企业微信应用中使用，发现不能双指缩放html页面，在uc浏览器里可以使用双指缩放页面，误以为企业微信设置问题（走了一点弯路）；再使用手机版chrome浏览器发现也不能使用双指 缩放，所以排除是企业微信的问题。网上一搜“vue 禁止 缩放”，一下就定位到viewpoint了。</p>\n<blockquote>\n<p><a href=\"http://www.sunqizheng.com/blog/798.html\" target=\"_blank\" rel=\"noopener\">据说</a>有些移动端浏览器，比如IOS10以上的Safari，安卓系统下的UC浏览器、QQ浏览器等，为了更好的用户体验，并没有遵循开发者禁止缩放的指定，虽然meta标签按如上写法，但依然允许用户双指缩放和双击放大。</p>\n</blockquote>\n<h2 id=\"问题的解决\"><a href=\"#问题的解决\" class=\"headerlink\" title=\"问题的解决\"></a>问题的解决</h2><ol>\n<li><p>找到vue项目的入口index.html，发现里面确实有控制移动端缩放的代码</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">\"viewport\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no\"</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>user-scalable = no，表示禁止用户缩放，所以要改成yes或直接删掉user-scalable，同时调整放大倍数</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">\"viewport\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"width=device-width, initial-scale=1, maximum-scale=3, user-scalable=yes\"</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>实际测试，可以在移动端企业微信和chrome下缩放</p>\n</li>\n</ol>\n<hr>\n<h2 id=\"顺便学习一下viewpoint，了解下怎么使用，参数怎么设置\"><a href=\"#顺便学习一下viewpoint，了解下怎么使用，参数怎么设置\" class=\"headerlink\" title=\"顺便学习一下viewpoint，了解下怎么使用，参数怎么设置\"></a>顺便学习一下viewpoint，了解下怎么使用，参数怎么设置</h2><p>原文链接：<a href=\"https://blog.csdn.net/shenlei19911210/article/details/51284910\" target=\"_blank\" rel=\"noopener\">https://blog.csdn.net/shenlei19911210/article/details/51284910</a></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- html document --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">\"viewport\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">content</span>=<span class=\"string\">\"</span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"string\">        height = [pixel_value | device-height] ,</span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"string\">        width = [pixel_value | device-width ] ,</span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"string\">        initial-scale = float_value ,</span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"string\">        minimum-scale = float_value ,</span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"string\">        maximum-scale = float_value ,</span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"string\">        user-scalable = [yes | no] ,</span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"string\">        target-densitydpi = [dpi_value | device-dpi | high-dpi | medium-dpi | low-dpi]</span></span></span><br><span class=\"line\"><span class=\"tag\"><span class=\"string\">    \"</span></span></span><br><span class=\"line\"><span class=\"tag\">/&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"width\"><a href=\"#width\" class=\"headerlink\" title=\"width\"></a>width</h4><p>控制 viewport 的大小，pixel_value表示可以指定的一个值或者特殊的值，而device-width 为设备的宽度（单位为缩放为 100% 时的 CSS 的像素）。</p>\n<h4 id=\"height\"><a href=\"#height\" class=\"headerlink\" title=\"height\"></a>height</h4><p>和 width 相对应，指定高度。</p>\n<h4 id=\"target-densitydpi\"><a href=\"#target-densitydpi\" class=\"headerlink\" title=\"target-densitydpi\"></a>target-densitydpi</h4><p>一个屏幕像素密度是由屏幕分辨率决定的，通常定义为每英寸点的数量（dpi）。Android支持三种屏幕像素密度：低像素密度，中像素密度，高像素密度。一个低像素密度的屏幕每英寸上的像素点更少，而一个高像素密度的屏幕每英寸上的像素点更多。Android Browser和WebView默认屏幕为中像素密度。</p>\n<p>下面是 target-densitydpi 属性的 取值范围</p>\n<blockquote>\n<ol>\n<li>device-dpi – 使用设备原本的 dpi 作为目标 dp。 不会发生默认缩放。</li>\n<li>high-dpi – 使用hdpi 作为目标 dpi。 中等像素密度和低像素密度设备相应缩小。 </li>\n<li>medium-dpi – 使用mdpi作为目标 dpi。 高像素密度设备相应放大， 像素密度设备相应缩小。 这是默认的target density. </li>\n<li>low-dpi - 使用mdpi作为目标 dpi。中等像素密度和高像素密度设备相应放大。</li>\n<li>dpi_value – 指定一个具体的dpi 值作为target dpi. 这个值的范围必须在<strong>70–400</strong>之间。</li>\n</ol>\n</blockquote>\n<p>为了防止Android Browser和WebView 根据不同屏幕的像素密度对你的页面进行缩放，你可以将viewport的target-densitydpi 设置为 device-dpi。当你这么做了，页面将不会缩放。相反，页面会根据当前屏幕的像素密度进行展示。在这种情形下，你还需要将viewport的width定义为与设备的width匹配，这样你的页面就可以和屏幕相适应。</p>\n<h4 id=\"initial-scale\"><a href=\"#initial-scale\" class=\"headerlink\" title=\"initial-scale\"></a>initial-scale</h4><p>初始缩放。即页面初始缩放程度。这是一个浮点值，是页面大小的一个乘数。例如，如果你设置初始缩放为“1.0”，那么，web页面在展现的时候就会以target density分辨率的1:1来展现。如果你设置为“2.0”，那么这个页面就会放大为2倍。</p>\n<h4 id=\"maximum-scale\"><a href=\"#maximum-scale\" class=\"headerlink\" title=\"maximum-scale\"></a>maximum-scale</h4><p>最大缩放。即允许的最大缩放程度。这也是一个浮点值，用以指出页面大小与屏幕大小相比的最大乘数。例如，如果你将这个值设置为“2.0”，那么这个页面与target size相比，最多能放大2倍。</p>\n<h4 id=\"user-scalable\"><a href=\"#user-scalable\" class=\"headerlink\" title=\"user-scalable\"></a>user-scalable</h4><p>用户调整缩放。即用户是否能改变页面缩放程度。如果设置为yes则是允许用户对其进行改变，反之为no。<strong>默认值是yes</strong>。如果你将其设置为no，那么minimum-scale 和 maximum-scale都将被忽略，因为根本不可能缩放。</p>\n<p>(<strong>所有的缩放值都必须在0.01–10的范围之内。</strong>)</p>\n<h3 id=\"例：\"><a href=\"#例：\" class=\"headerlink\" title=\"例：\"></a>例：</h3><p>(设置屏幕宽度为设备宽度，禁止用户手动调整缩放)</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">\"viewport\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"width=device-width,user-scalable=no\"</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>(设置屏幕密度为高频，中频，低频自动缩放，禁止用户手动调整缩放)</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">\"viewport\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"width=device-width,target-densitydpi=high-dpi,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no\"</span>/&gt;</span></span><br></pre></td></tr></table></figure>\n\n"},{"title":"前端一次编译多环境部署","author":"weihai","date":"2019-10-30T11:27:00.000Z","_content":"# 前端一次编译多环境部署\n\n#### 需求:\n> 想要只编译一次，能同时发布到staging和prodcution环境！\n\n#### 现状：\n> 一些配置写在了代码里，有通过环境设置不同变量的，但是环境变量和外网是相同的，所以值也和外网一样了\n\n### 可以尝试的解决办法\n- 从接口读取配置，由接口控制不同环境的值\n- 从本地文件读取可变的配置。代码里可以读取同一个地址的配置文件，但是在docker启动时挂载不同的配置文件","source":"_posts/前端一次编译多环境部署.md","raw":"title: 前端一次编译多环境部署\nauthor: weihai\ntags:\n  - vue\ncategories: []\ndate: 2019-10-30 19:27:00\n---\n# 前端一次编译多环境部署\n\n#### 需求:\n> 想要只编译一次，能同时发布到staging和prodcution环境！\n\n#### 现状：\n> 一些配置写在了代码里，有通过环境设置不同变量的，但是环境变量和外网是相同的，所以值也和外网一样了\n\n### 可以尝试的解决办法\n- 从接口读取配置，由接口控制不同环境的值\n- 从本地文件读取可变的配置。代码里可以读取同一个地址的配置文件，但是在docker启动时挂载不同的配置文件","slug":"前端一次编译多环境部署","published":1,"updated":"2019-10-30T11:27:20.455Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckniaipwh001dlspa75rq277m","content":"<h1 id=\"前端一次编译多环境部署\"><a href=\"#前端一次编译多环境部署\" class=\"headerlink\" title=\"前端一次编译多环境部署\"></a>前端一次编译多环境部署</h1><h4 id=\"需求\"><a href=\"#需求\" class=\"headerlink\" title=\"需求:\"></a>需求:</h4><blockquote>\n<p>想要只编译一次，能同时发布到staging和prodcution环境！</p>\n</blockquote>\n<h4 id=\"现状：\"><a href=\"#现状：\" class=\"headerlink\" title=\"现状：\"></a>现状：</h4><blockquote>\n<p>一些配置写在了代码里，有通过环境设置不同变量的，但是环境变量和外网是相同的，所以值也和外网一样了</p>\n</blockquote>\n<h3 id=\"可以尝试的解决办法\"><a href=\"#可以尝试的解决办法\" class=\"headerlink\" title=\"可以尝试的解决办法\"></a>可以尝试的解决办法</h3><ul>\n<li>从接口读取配置，由接口控制不同环境的值</li>\n<li>从本地文件读取可变的配置。代码里可以读取同一个地址的配置文件，但是在docker启动时挂载不同的配置文件</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"前端一次编译多环境部署\"><a href=\"#前端一次编译多环境部署\" class=\"headerlink\" title=\"前端一次编译多环境部署\"></a>前端一次编译多环境部署</h1><h4 id=\"需求\"><a href=\"#需求\" class=\"headerlink\" title=\"需求:\"></a>需求:</h4><blockquote>\n<p>想要只编译一次，能同时发布到staging和prodcution环境！</p>\n</blockquote>\n<h4 id=\"现状：\"><a href=\"#现状：\" class=\"headerlink\" title=\"现状：\"></a>现状：</h4><blockquote>\n<p>一些配置写在了代码里，有通过环境设置不同变量的，但是环境变量和外网是相同的，所以值也和外网一样了</p>\n</blockquote>\n<h3 id=\"可以尝试的解决办法\"><a href=\"#可以尝试的解决办法\" class=\"headerlink\" title=\"可以尝试的解决办法\"></a>可以尝试的解决办法</h3><ul>\n<li>从接口读取配置，由接口控制不同环境的值</li>\n<li>从本地文件读取可变的配置。代码里可以读取同一个地址的配置文件，但是在docker启动时挂载不同的配置文件</li>\n</ul>\n"},{"title":"vue项目中离开页面时提示功能","author":"weihai","date":"2019-05-23T02:43:00.000Z","_content":"# vue项目中离开页面时提示功能\n\n----\n\n- 当页面刷新、浏览器窗口关闭、页面前进、页面后退，用浏览器自带的confirm\n- 项目中路由之间的跳转，可以用vue项目引入的组件实现\n\n### 路由跳转\n\n```javascript\nbeforeRouteLeave(to, from, next) {\n  next(false)\n  if (to.path !== 'xxx' && someOtherCondition) {\n    this.$confirm('您还未保存页面内容，确定需要退出吗?', '提示', {\n      confirmButtonText: '确定',\n      cancelButtonText: '取消',\n      type: 'warning'\n    }).then(() => {\n      // 选择确定\n      next()\n    }).catch(() => {\n      // 选择取消\n    })\n  } else {\n    // 不是预期的页面就继续跳转\n    next()\n  }\n}\n```\n\n### 页面刷新、浏览器窗口关闭、页面前进、页面后退\n\n```javascript\n// 这几个事件只能在beforeunload中捕获\nwindow.addEventListener('beforeunload', (event) => {\n  if (this.$route.name === 'xxx' && someOtherCondition) {\n    event.returnValue = 'reload'\n  }\n})\n```","source":"_posts/退出页面时提示（vue）.md","raw":"title: vue项目中离开页面时提示功能\nauthor: weihai\ntags:\n  - vue\ncategories: []\ndate: 2019-05-23 10:43:00\n---\n# vue项目中离开页面时提示功能\n\n----\n\n- 当页面刷新、浏览器窗口关闭、页面前进、页面后退，用浏览器自带的confirm\n- 项目中路由之间的跳转，可以用vue项目引入的组件实现\n\n### 路由跳转\n\n```javascript\nbeforeRouteLeave(to, from, next) {\n  next(false)\n  if (to.path !== 'xxx' && someOtherCondition) {\n    this.$confirm('您还未保存页面内容，确定需要退出吗?', '提示', {\n      confirmButtonText: '确定',\n      cancelButtonText: '取消',\n      type: 'warning'\n    }).then(() => {\n      // 选择确定\n      next()\n    }).catch(() => {\n      // 选择取消\n    })\n  } else {\n    // 不是预期的页面就继续跳转\n    next()\n  }\n}\n```\n\n### 页面刷新、浏览器窗口关闭、页面前进、页面后退\n\n```javascript\n// 这几个事件只能在beforeunload中捕获\nwindow.addEventListener('beforeunload', (event) => {\n  if (this.$route.name === 'xxx' && someOtherCondition) {\n    event.returnValue = 'reload'\n  }\n})\n```","slug":"退出页面时提示（vue）","published":1,"updated":"2019-06-05T07:58:31.178Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckniaipwi001elspa1b3il4ig","content":"<h1 id=\"vue项目中离开页面时提示功能\"><a href=\"#vue项目中离开页面时提示功能\" class=\"headerlink\" title=\"vue项目中离开页面时提示功能\"></a>vue项目中离开页面时提示功能</h1><hr>\n<ul>\n<li>当页面刷新、浏览器窗口关闭、页面前进、页面后退，用浏览器自带的confirm</li>\n<li>项目中路由之间的跳转，可以用vue项目引入的组件实现</li>\n</ul>\n<h3 id=\"路由跳转\"><a href=\"#路由跳转\" class=\"headerlink\" title=\"路由跳转\"></a>路由跳转</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">beforeRouteLeave(to, <span class=\"keyword\">from</span>, next) &#123;</span><br><span class=\"line\">  next(<span class=\"literal\">false</span>)</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (to.path !== <span class=\"string\">'xxx'</span> &amp;&amp; someOtherCondition) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.$confirm(<span class=\"string\">'您还未保存页面内容，确定需要退出吗?'</span>, <span class=\"string\">'提示'</span>, &#123;</span><br><span class=\"line\">      confirmButtonText: <span class=\"string\">'确定'</span>,</span><br><span class=\"line\">      cancelButtonText: <span class=\"string\">'取消'</span>,</span><br><span class=\"line\">      type: <span class=\"string\">'warning'</span></span><br><span class=\"line\">    &#125;).then(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">// 选择确定</span></span><br><span class=\"line\">      next()</span><br><span class=\"line\">    &#125;).catch(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">// 选择取消</span></span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 不是预期的页面就继续跳转</span></span><br><span class=\"line\">    next()</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"页面刷新、浏览器窗口关闭、页面前进、页面后退\"><a href=\"#页面刷新、浏览器窗口关闭、页面前进、页面后退\" class=\"headerlink\" title=\"页面刷新、浏览器窗口关闭、页面前进、页面后退\"></a>页面刷新、浏览器窗口关闭、页面前进、页面后退</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 这几个事件只能在beforeunload中捕获</span></span><br><span class=\"line\"><span class=\"built_in\">window</span>.addEventListener(<span class=\"string\">'beforeunload'</span>, (event) =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.$route.name === <span class=\"string\">'xxx'</span> &amp;&amp; someOtherCondition) &#123;</span><br><span class=\"line\">    event.returnValue = <span class=\"string\">'reload'</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<h1 id=\"vue项目中离开页面时提示功能\"><a href=\"#vue项目中离开页面时提示功能\" class=\"headerlink\" title=\"vue项目中离开页面时提示功能\"></a>vue项目中离开页面时提示功能</h1><hr>\n<ul>\n<li>当页面刷新、浏览器窗口关闭、页面前进、页面后退，用浏览器自带的confirm</li>\n<li>项目中路由之间的跳转，可以用vue项目引入的组件实现</li>\n</ul>\n<h3 id=\"路由跳转\"><a href=\"#路由跳转\" class=\"headerlink\" title=\"路由跳转\"></a>路由跳转</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">beforeRouteLeave(to, <span class=\"keyword\">from</span>, next) &#123;</span><br><span class=\"line\">  next(<span class=\"literal\">false</span>)</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (to.path !== <span class=\"string\">'xxx'</span> &amp;&amp; someOtherCondition) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.$confirm(<span class=\"string\">'您还未保存页面内容，确定需要退出吗?'</span>, <span class=\"string\">'提示'</span>, &#123;</span><br><span class=\"line\">      confirmButtonText: <span class=\"string\">'确定'</span>,</span><br><span class=\"line\">      cancelButtonText: <span class=\"string\">'取消'</span>,</span><br><span class=\"line\">      type: <span class=\"string\">'warning'</span></span><br><span class=\"line\">    &#125;).then(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">// 选择确定</span></span><br><span class=\"line\">      next()</span><br><span class=\"line\">    &#125;).catch(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">// 选择取消</span></span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 不是预期的页面就继续跳转</span></span><br><span class=\"line\">    next()</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"页面刷新、浏览器窗口关闭、页面前进、页面后退\"><a href=\"#页面刷新、浏览器窗口关闭、页面前进、页面后退\" class=\"headerlink\" title=\"页面刷新、浏览器窗口关闭、页面前进、页面后退\"></a>页面刷新、浏览器窗口关闭、页面前进、页面后退</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 这几个事件只能在beforeunload中捕获</span></span><br><span class=\"line\"><span class=\"built_in\">window</span>.addEventListener(<span class=\"string\">'beforeunload'</span>, (event) =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.$route.name === <span class=\"string\">'xxx'</span> &amp;&amp; someOtherCondition) &#123;</span><br><span class=\"line\">    event.returnValue = <span class=\"string\">'reload'</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>"},{"title":"树莓派电子相册-软件篇","author":"weihai","date":"2022-01-09T01:47:00.000Z","_content":"# 软件篇\n\n> 分享一下自己搞的树莓派电子相框；记录下都做了些什么操作\n\n## 1. 系统镜像\n树莓派安装有GUI的系统（清华源）\nhttps://mirrors.tuna.tsinghua.edu.cn/raspberry-pi-os-images/\n\n## 2. 替换软件源\n### 2.1 备份 /etc/apt/sources.list\n```bash\ncp /etc/apt/sources.list /etc/apt/sources.list.bak\n```\n### 2.2 修改里面的软件源为\n```bash\ndeb http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ #后面还有一部分，复制原来的\n```\n\n## 3. 安装vim，feh，zerotier\n```bash\nsudo apt-get update\nsudo apt-get install -y vim feh\n# 安装zerotier\ncurl -s https://install.zerotier.com | sudo bash\nzerotier-cli join a0cbf4b62abd56ec\n# zerotier 还可以自建moon节点，来提高连接速度或打洞成功率\n# zerotier-cli orbit xxxx xxxx\n```\n\n## 4. feh脚本\n> info打印出“从python脚本中获取到的时间、天气信息”\n> \n> harmony字体是我从电脑上复制的ttf字体，一定要是ttf，不能是ttc（feh中不生效）\n```bash\n#!/bin/bash\n# -r 随机展示\n# -z\n# -F 全屏\n# -Y 隐藏鼠标\n# -Z\n# -D 照片停留时间（秒）\n# -R 照片数据刷新时间（秒）\n# --info 左下角展示的信息\n# -C 设置字体路径\n# -e 设置字体名字/字号\nfeh /home/pi/Pictures/ -rzFYZ -D 60 -R 120 --info \"python3 /home/pi/Desktop/info.py\" -C /usr/share/fonts/truetype/harmonyos_sans_sc -e HarmonyOS_Sans_SC_Regular/30\n```\n\n## 5. 群晖服务器定时脚本\n> 这一步是用来远程同步树莓派上的相册。可以有很多其他方法。\n```bash\n#!/bin/bash\n# ip是zerotier中获得的\nrsync -azrtvP /var/services/homes/twh/Drive/pi_photos/ pi@[ip]:/home/pi/Pictures/\n```\n\n## 6. 树莓派上开机自启动feh脚本\n```bash\nmkdir /home/pi/.config/autostart\nvim /home/pi/.config/autostart/feh.desktop\n```\n> feh脚本的内容如下：\n```\n[Desktop Entry]\nType=Application\nName=feh\nExec=/home/pi/Desktop/start.sh\n```\n\n## 7. 设置树莓派屏幕常亮，禁止树莓派屏幕休眠\n```bash\nsudo vim /etc/lightdm/lightdm.conf\n# 找到[Seat:*]这一项，在下面的‘#xserver-command=X’删除前面的注释符#，修改为以下\nxserver-command=X -s 0-dpms\n# 其中，-s 参数：设置屏幕保护不启动，0 数字零，-dpms 参数：关闭电源节能管理。\nsudo reboot\n```\n\n## 8.  定时控制背光亮度\n```bash\necho X > /sys/class/backlight/rpi_backlight/brightness \n# (其中X表示0~255中的任意数字。0表示背光最暗，255表示背光最亮)\n\n# 利用crontab 定时控制背光亮度\n0 22 * * * /home/pi/Desktop/turn_down_brightness.sh\n0 6 * * * /home/pi/Desktop/turn_up_brightness.sh\n```\n> 这里有坑，每次重启树莓派后 /sys/class/backlight/rpi_backlight/brightness 这个权限会背重置，导致我的crontab执行失败，我的解决办法是在root用户下开机启动的时候执行命令修改权限\n```bash\nsudo su\nvim /etc/rc.local\n# 在适当的位置插入命令\nchmod 666 /sys/class/backlight/rpi_backlight/brightness\n```\n\n> 调亮脚本\n```bash\n#!/bin/bash\necho 200 > /sys/class/backlight/rpi_backlight/brightness\n```\n> 调暗脚本\n```bash\n#!/bin/bash\necho 30 > /sys/class/backlight/rpi_backlight/brightness\n```\n\n## 9.  显示日期时间\n> 利用python脚本实现\n```python\n#!/bin/python\n\nimport json\nimport time\n\ntempeature = '-'\nweather = '未知'\nresponse = {}\nwind_dir = '东风'\nwind_scale = '0'\n\nwith open('/home/pi/Desktop/city_weather.json', 'r', encoding='UTF-8') as f:\n    response = json.loads(f.read())\n\nif response[\"code\"] == \"200\":\n    tempeature = response[\"now\"][\"temp\"]\n    weather = response[\"now\"][\"text\"]\n    wind_dir = response[\"now\"][\"windDir\"]\n    wind_scale = response[\"now\"][\"windScale\"]\n\ndate = time.strftime(\"%Y-%m-%d %H:%M\", time.localtime())\n\n# feh的info参数会直接拿这个输出来展示\nprint(\"{0}\\n上海: {1}, {2}℃\\n{3}{4}级\".format(date, weather, tempeature, wind_dir, wind_scale))\n```\n\n## 10. 显示天气\n> 利用python脚本实现，调用[和风天气api](https://dev.qweather.com/)\n>\n> 获取到天气数据后，存在一个json文件里\n\n```python\n#!/bin/python\n\nimport requests\nimport json\nimport time\n\nkey = \"xxxx\"\nlocation_id = \"101020100\" # 上海\n\nurl = \"https://devapi.qweather.com/v7/weather/now?key={0}&location={1}\".format(key, location_id)\n\npayload={}\nheaders = {}\n\nresponse = requests.request(\"GET\", url, headers=headers, data=payload)\n\nif response.status_code == 200:\n    ffw = open('/home/pi/Desktop/city_weather.json', 'w', errors='ignore')\n    ffw.write(response.text)\n    ffw.close()\n    print('Updated!')\nelse:\n    print('Nothing Change.')\n```\n\n## 11. 为减少和风天气api调用次数，每小时更新一次数据\n```bash\n# 加入crontab\n0 * * * * python3 /home/pi/Desktop/weather.py\n```\n\n## 12. 重启，KO\n![结果](/images/展示1.jpg)","source":"_posts/树莓派电子相册-软件篇.md","raw":"title: 树莓派电子相册-软件篇\nauthor: weihai\ntags:\n  - raspberry pi\n  - feh\ncategories: []\ndate: 2022-01-09 09:47:00\n---\n# 软件篇\n\n> 分享一下自己搞的树莓派电子相框；记录下都做了些什么操作\n\n## 1. 系统镜像\n树莓派安装有GUI的系统（清华源）\nhttps://mirrors.tuna.tsinghua.edu.cn/raspberry-pi-os-images/\n\n## 2. 替换软件源\n### 2.1 备份 /etc/apt/sources.list\n```bash\ncp /etc/apt/sources.list /etc/apt/sources.list.bak\n```\n### 2.2 修改里面的软件源为\n```bash\ndeb http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ #后面还有一部分，复制原来的\n```\n\n## 3. 安装vim，feh，zerotier\n```bash\nsudo apt-get update\nsudo apt-get install -y vim feh\n# 安装zerotier\ncurl -s https://install.zerotier.com | sudo bash\nzerotier-cli join a0cbf4b62abd56ec\n# zerotier 还可以自建moon节点，来提高连接速度或打洞成功率\n# zerotier-cli orbit xxxx xxxx\n```\n\n## 4. feh脚本\n> info打印出“从python脚本中获取到的时间、天气信息”\n> \n> harmony字体是我从电脑上复制的ttf字体，一定要是ttf，不能是ttc（feh中不生效）\n```bash\n#!/bin/bash\n# -r 随机展示\n# -z\n# -F 全屏\n# -Y 隐藏鼠标\n# -Z\n# -D 照片停留时间（秒）\n# -R 照片数据刷新时间（秒）\n# --info 左下角展示的信息\n# -C 设置字体路径\n# -e 设置字体名字/字号\nfeh /home/pi/Pictures/ -rzFYZ -D 60 -R 120 --info \"python3 /home/pi/Desktop/info.py\" -C /usr/share/fonts/truetype/harmonyos_sans_sc -e HarmonyOS_Sans_SC_Regular/30\n```\n\n## 5. 群晖服务器定时脚本\n> 这一步是用来远程同步树莓派上的相册。可以有很多其他方法。\n```bash\n#!/bin/bash\n# ip是zerotier中获得的\nrsync -azrtvP /var/services/homes/twh/Drive/pi_photos/ pi@[ip]:/home/pi/Pictures/\n```\n\n## 6. 树莓派上开机自启动feh脚本\n```bash\nmkdir /home/pi/.config/autostart\nvim /home/pi/.config/autostart/feh.desktop\n```\n> feh脚本的内容如下：\n```\n[Desktop Entry]\nType=Application\nName=feh\nExec=/home/pi/Desktop/start.sh\n```\n\n## 7. 设置树莓派屏幕常亮，禁止树莓派屏幕休眠\n```bash\nsudo vim /etc/lightdm/lightdm.conf\n# 找到[Seat:*]这一项，在下面的‘#xserver-command=X’删除前面的注释符#，修改为以下\nxserver-command=X -s 0-dpms\n# 其中，-s 参数：设置屏幕保护不启动，0 数字零，-dpms 参数：关闭电源节能管理。\nsudo reboot\n```\n\n## 8.  定时控制背光亮度\n```bash\necho X > /sys/class/backlight/rpi_backlight/brightness \n# (其中X表示0~255中的任意数字。0表示背光最暗，255表示背光最亮)\n\n# 利用crontab 定时控制背光亮度\n0 22 * * * /home/pi/Desktop/turn_down_brightness.sh\n0 6 * * * /home/pi/Desktop/turn_up_brightness.sh\n```\n> 这里有坑，每次重启树莓派后 /sys/class/backlight/rpi_backlight/brightness 这个权限会背重置，导致我的crontab执行失败，我的解决办法是在root用户下开机启动的时候执行命令修改权限\n```bash\nsudo su\nvim /etc/rc.local\n# 在适当的位置插入命令\nchmod 666 /sys/class/backlight/rpi_backlight/brightness\n```\n\n> 调亮脚本\n```bash\n#!/bin/bash\necho 200 > /sys/class/backlight/rpi_backlight/brightness\n```\n> 调暗脚本\n```bash\n#!/bin/bash\necho 30 > /sys/class/backlight/rpi_backlight/brightness\n```\n\n## 9.  显示日期时间\n> 利用python脚本实现\n```python\n#!/bin/python\n\nimport json\nimport time\n\ntempeature = '-'\nweather = '未知'\nresponse = {}\nwind_dir = '东风'\nwind_scale = '0'\n\nwith open('/home/pi/Desktop/city_weather.json', 'r', encoding='UTF-8') as f:\n    response = json.loads(f.read())\n\nif response[\"code\"] == \"200\":\n    tempeature = response[\"now\"][\"temp\"]\n    weather = response[\"now\"][\"text\"]\n    wind_dir = response[\"now\"][\"windDir\"]\n    wind_scale = response[\"now\"][\"windScale\"]\n\ndate = time.strftime(\"%Y-%m-%d %H:%M\", time.localtime())\n\n# feh的info参数会直接拿这个输出来展示\nprint(\"{0}\\n上海: {1}, {2}℃\\n{3}{4}级\".format(date, weather, tempeature, wind_dir, wind_scale))\n```\n\n## 10. 显示天气\n> 利用python脚本实现，调用[和风天气api](https://dev.qweather.com/)\n>\n> 获取到天气数据后，存在一个json文件里\n\n```python\n#!/bin/python\n\nimport requests\nimport json\nimport time\n\nkey = \"xxxx\"\nlocation_id = \"101020100\" # 上海\n\nurl = \"https://devapi.qweather.com/v7/weather/now?key={0}&location={1}\".format(key, location_id)\n\npayload={}\nheaders = {}\n\nresponse = requests.request(\"GET\", url, headers=headers, data=payload)\n\nif response.status_code == 200:\n    ffw = open('/home/pi/Desktop/city_weather.json', 'w', errors='ignore')\n    ffw.write(response.text)\n    ffw.close()\n    print('Updated!')\nelse:\n    print('Nothing Change.')\n```\n\n## 11. 为减少和风天气api调用次数，每小时更新一次数据\n```bash\n# 加入crontab\n0 * * * * python3 /home/pi/Desktop/weather.py\n```\n\n## 12. 重启，KO\n![结果](/images/展示1.jpg)","slug":"树莓派电子相册-软件篇","published":1,"updated":"2022-01-10T04:44:45.205Z","_id":"cky877yu90000mnbjbyv21diq","comments":1,"layout":"post","photos":[],"link":"","content":"<h1 id=\"软件篇\"><a href=\"#软件篇\" class=\"headerlink\" title=\"软件篇\"></a>软件篇</h1><blockquote>\n<p>分享一下自己搞的树莓派电子相框；记录下都做了些什么操作</p>\n</blockquote>\n<h2 id=\"1-系统镜像\"><a href=\"#1-系统镜像\" class=\"headerlink\" title=\"1. 系统镜像\"></a>1. 系统镜像</h2><p>树莓派安装有GUI的系统（清华源）<br><a href=\"https://mirrors.tuna.tsinghua.edu.cn/raspberry-pi-os-images/\">https://mirrors.tuna.tsinghua.edu.cn/raspberry-pi-os-images/</a></p>\n<h2 id=\"2-替换软件源\"><a href=\"#2-替换软件源\" class=\"headerlink\" title=\"2. 替换软件源\"></a>2. 替换软件源</h2><h3 id=\"2-1-备份-etc-apt-sources-list\"><a href=\"#2-1-备份-etc-apt-sources-list\" class=\"headerlink\" title=\"2.1 备份 /etc/apt/sources.list\"></a>2.1 备份 /etc/apt/sources.list</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cp /etc/apt/sources.list /etc/apt/sources.list.bak</span><br></pre></td></tr></table></figure>\n<h3 id=\"2-2-修改里面的软件源为\"><a href=\"#2-2-修改里面的软件源为\" class=\"headerlink\" title=\"2.2 修改里面的软件源为\"></a>2.2 修改里面的软件源为</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">deb http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ <span class=\"comment\">#后面还有一部分，复制原来的</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"3-安装vim，feh，zerotier\"><a href=\"#3-安装vim，feh，zerotier\" class=\"headerlink\" title=\"3. 安装vim，feh，zerotier\"></a>3. 安装vim，feh，zerotier</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get update</span><br><span class=\"line\">sudo apt-get install -y vim feh</span><br><span class=\"line\"><span class=\"comment\"># 安装zerotier</span></span><br><span class=\"line\">curl -s https://install.zerotier.com | sudo bash</span><br><span class=\"line\">zerotier-cli join a0cbf4b62abd56ec</span><br><span class=\"line\"><span class=\"comment\"># zerotier 还可以自建moon节点，来提高连接速度或打洞成功率</span></span><br><span class=\"line\"><span class=\"comment\"># zerotier-cli orbit xxxx xxxx</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"4-feh脚本\"><a href=\"#4-feh脚本\" class=\"headerlink\" title=\"4. feh脚本\"></a>4. feh脚本</h2><blockquote>\n<p>info打印出“从python脚本中获取到的时间、天气信息”</p>\n<p>harmony字体是我从电脑上复制的ttf字体，一定要是ttf，不能是ttc（feh中不生效）</p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\"><span class=\"comment\"># -r 随机展示</span></span><br><span class=\"line\"><span class=\"comment\"># -z</span></span><br><span class=\"line\"><span class=\"comment\"># -F 全屏</span></span><br><span class=\"line\"><span class=\"comment\"># -Y 隐藏鼠标</span></span><br><span class=\"line\"><span class=\"comment\"># -Z</span></span><br><span class=\"line\"><span class=\"comment\"># -D 照片停留时间（秒）</span></span><br><span class=\"line\"><span class=\"comment\"># -R 照片数据刷新时间（秒）</span></span><br><span class=\"line\"><span class=\"comment\"># --info 左下角展示的信息</span></span><br><span class=\"line\"><span class=\"comment\"># -C 设置字体路径</span></span><br><span class=\"line\"><span class=\"comment\"># -e 设置字体名字/字号</span></span><br><span class=\"line\">feh /home/pi/Pictures/ -rzFYZ -D 60 -R 120 --info <span class=\"string\">&quot;python3 /home/pi/Desktop/info.py&quot;</span> -C /usr/share/fonts/truetype/harmonyos_sans_sc -e HarmonyOS_Sans_SC_Regular/30</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"5-群晖服务器定时脚本\"><a href=\"#5-群晖服务器定时脚本\" class=\"headerlink\" title=\"5. 群晖服务器定时脚本\"></a>5. 群晖服务器定时脚本</h2><blockquote>\n<p>这一步是用来远程同步树莓派上的相册。可以有很多其他方法。</p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\"><span class=\"comment\"># ip是zerotier中获得的</span></span><br><span class=\"line\">rsync -azrtvP /var/services/homes/twh/Drive/pi_photos/ pi@[ip]:/home/pi/Pictures/</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"6-树莓派上开机自启动feh脚本\"><a href=\"#6-树莓派上开机自启动feh脚本\" class=\"headerlink\" title=\"6. 树莓派上开机自启动feh脚本\"></a>6. 树莓派上开机自启动feh脚本</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir /home/pi/.config/autostart</span><br><span class=\"line\">vim /home/pi/.config/autostart/feh.desktop</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>feh脚本的内容如下：</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[Desktop Entry]</span><br><span class=\"line\">Type&#x3D;Application</span><br><span class=\"line\">Name&#x3D;feh</span><br><span class=\"line\">Exec&#x3D;&#x2F;home&#x2F;pi&#x2F;Desktop&#x2F;start.sh</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"7-设置树莓派屏幕常亮，禁止树莓派屏幕休眠\"><a href=\"#7-设置树莓派屏幕常亮，禁止树莓派屏幕休眠\" class=\"headerlink\" title=\"7. 设置树莓派屏幕常亮，禁止树莓派屏幕休眠\"></a>7. 设置树莓派屏幕常亮，禁止树莓派屏幕休眠</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo vim /etc/lightdm/lightdm.conf</span><br><span class=\"line\"><span class=\"comment\"># 找到[Seat:*]这一项，在下面的‘#xserver-command=X’删除前面的注释符#，修改为以下</span></span><br><span class=\"line\">xserver-command=X -s 0-dpms</span><br><span class=\"line\"><span class=\"comment\"># 其中，-s 参数：设置屏幕保护不启动，0 数字零，-dpms 参数：关闭电源节能管理。</span></span><br><span class=\"line\">sudo reboot</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"8-定时控制背光亮度\"><a href=\"#8-定时控制背光亮度\" class=\"headerlink\" title=\"8.  定时控制背光亮度\"></a>8.  定时控制背光亮度</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">echo</span> X &gt; /sys/class/backlight/rpi_backlight/brightness </span><br><span class=\"line\"><span class=\"comment\"># (其中X表示0~255中的任意数字。0表示背光最暗，255表示背光最亮)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 利用crontab 定时控制背光亮度</span></span><br><span class=\"line\">0 22 * * * /home/pi/Desktop/turn_down_brightness.sh</span><br><span class=\"line\">0 6 * * * /home/pi/Desktop/turn_up_brightness.sh</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>这里有坑，每次重启树莓派后 /sys/class/backlight/rpi_backlight/brightness 这个权限会背重置，导致我的crontab执行失败，我的解决办法是在root用户下开机启动的时候执行命令修改权限</p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo su</span><br><span class=\"line\">vim /etc/rc.local</span><br><span class=\"line\"><span class=\"comment\"># 在适当的位置插入命令</span></span><br><span class=\"line\">chmod 666 /sys/class/backlight/rpi_backlight/brightness</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>调亮脚本</p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> 200 &gt; /sys/class/backlight/rpi_backlight/brightness</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>调暗脚本</p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> 30 &gt; /sys/class/backlight/rpi_backlight/brightness</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"9-显示日期时间\"><a href=\"#9-显示日期时间\" class=\"headerlink\" title=\"9.  显示日期时间\"></a>9.  显示日期时间</h2><blockquote>\n<p>利用python脚本实现</p>\n</blockquote>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/bin/python</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> json</span><br><span class=\"line\"><span class=\"keyword\">import</span> time</span><br><span class=\"line\"></span><br><span class=\"line\">tempeature = <span class=\"string\">&#x27;-&#x27;</span></span><br><span class=\"line\">weather = <span class=\"string\">&#x27;未知&#x27;</span></span><br><span class=\"line\">response = &#123;&#125;</span><br><span class=\"line\">wind_dir = <span class=\"string\">&#x27;东风&#x27;</span></span><br><span class=\"line\">wind_scale = <span class=\"string\">&#x27;0&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">with</span> <span class=\"built_in\">open</span>(<span class=\"string\">&#x27;/home/pi/Desktop/city_weather.json&#x27;</span>, <span class=\"string\">&#x27;r&#x27;</span>, encoding=<span class=\"string\">&#x27;UTF-8&#x27;</span>) <span class=\"keyword\">as</span> f:</span><br><span class=\"line\">    response = json.loads(f.read())</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> response[<span class=\"string\">&quot;code&quot;</span>] == <span class=\"string\">&quot;200&quot;</span>:</span><br><span class=\"line\">    tempeature = response[<span class=\"string\">&quot;now&quot;</span>][<span class=\"string\">&quot;temp&quot;</span>]</span><br><span class=\"line\">    weather = response[<span class=\"string\">&quot;now&quot;</span>][<span class=\"string\">&quot;text&quot;</span>]</span><br><span class=\"line\">    wind_dir = response[<span class=\"string\">&quot;now&quot;</span>][<span class=\"string\">&quot;windDir&quot;</span>]</span><br><span class=\"line\">    wind_scale = response[<span class=\"string\">&quot;now&quot;</span>][<span class=\"string\">&quot;windScale&quot;</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">date = time.strftime(<span class=\"string\">&quot;%Y-%m-%d %H:%M&quot;</span>, time.localtime())</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># feh的info参数会直接拿这个输出来展示</span></span><br><span class=\"line\">print(<span class=\"string\">&quot;&#123;0&#125;\\n上海: &#123;1&#125;, &#123;2&#125;℃\\n&#123;3&#125;&#123;4&#125;级&quot;</span>.<span class=\"built_in\">format</span>(date, weather, tempeature, wind_dir, wind_scale))</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"10-显示天气\"><a href=\"#10-显示天气\" class=\"headerlink\" title=\"10. 显示天气\"></a>10. 显示天气</h2><blockquote>\n<p>利用python脚本实现，调用<a href=\"https://dev.qweather.com/\">和风天气api</a></p>\n<p>获取到天气数据后，存在一个json文件里</p>\n</blockquote>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/bin/python</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> requests</span><br><span class=\"line\"><span class=\"keyword\">import</span> json</span><br><span class=\"line\"><span class=\"keyword\">import</span> time</span><br><span class=\"line\"></span><br><span class=\"line\">key = <span class=\"string\">&quot;xxxx&quot;</span></span><br><span class=\"line\">location_id = <span class=\"string\">&quot;101020100&quot;</span> <span class=\"comment\"># 上海</span></span><br><span class=\"line\"></span><br><span class=\"line\">url = <span class=\"string\">&quot;https://devapi.qweather.com/v7/weather/now?key=&#123;0&#125;&amp;location=&#123;1&#125;&quot;</span>.<span class=\"built_in\">format</span>(key, location_id)</span><br><span class=\"line\"></span><br><span class=\"line\">payload=&#123;&#125;</span><br><span class=\"line\">headers = &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">response = requests.request(<span class=\"string\">&quot;GET&quot;</span>, url, headers=headers, data=payload)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> response.status_code == <span class=\"number\">200</span>:</span><br><span class=\"line\">    ffw = <span class=\"built_in\">open</span>(<span class=\"string\">&#x27;/home/pi/Desktop/city_weather.json&#x27;</span>, <span class=\"string\">&#x27;w&#x27;</span>, errors=<span class=\"string\">&#x27;ignore&#x27;</span>)</span><br><span class=\"line\">    ffw.write(response.text)</span><br><span class=\"line\">    ffw.close()</span><br><span class=\"line\">    print(<span class=\"string\">&#x27;Updated!&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">else</span>:</span><br><span class=\"line\">    print(<span class=\"string\">&#x27;Nothing Change.&#x27;</span>)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"11-为减少和风天气api调用次数，每小时更新一次数据\"><a href=\"#11-为减少和风天气api调用次数，每小时更新一次数据\" class=\"headerlink\" title=\"11. 为减少和风天气api调用次数，每小时更新一次数据\"></a>11. 为减少和风天气api调用次数，每小时更新一次数据</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 加入crontab</span></span><br><span class=\"line\">0 * * * * python3 /home/pi/Desktop/weather.py</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"12-重启，KO\"><a href=\"#12-重启，KO\" class=\"headerlink\" title=\"12. 重启，KO\"></a>12. 重启，KO</h2><p><img src=\"/images/%E5%B1%95%E7%A4%BA1.jpg\" alt=\"结果\"></p>\n","site":{"data":{}},"cover":"/images/eva.png","excerpt":"","more":"<h1 id=\"软件篇\"><a href=\"#软件篇\" class=\"headerlink\" title=\"软件篇\"></a>软件篇</h1><blockquote>\n<p>分享一下自己搞的树莓派电子相框；记录下都做了些什么操作</p>\n</blockquote>\n<h2 id=\"1-系统镜像\"><a href=\"#1-系统镜像\" class=\"headerlink\" title=\"1. 系统镜像\"></a>1. 系统镜像</h2><p>树莓派安装有GUI的系统（清华源）<br><a href=\"https://mirrors.tuna.tsinghua.edu.cn/raspberry-pi-os-images/\">https://mirrors.tuna.tsinghua.edu.cn/raspberry-pi-os-images/</a></p>\n<h2 id=\"2-替换软件源\"><a href=\"#2-替换软件源\" class=\"headerlink\" title=\"2. 替换软件源\"></a>2. 替换软件源</h2><h3 id=\"2-1-备份-etc-apt-sources-list\"><a href=\"#2-1-备份-etc-apt-sources-list\" class=\"headerlink\" title=\"2.1 备份 /etc/apt/sources.list\"></a>2.1 备份 /etc/apt/sources.list</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cp /etc/apt/sources.list /etc/apt/sources.list.bak</span><br></pre></td></tr></table></figure>\n<h3 id=\"2-2-修改里面的软件源为\"><a href=\"#2-2-修改里面的软件源为\" class=\"headerlink\" title=\"2.2 修改里面的软件源为\"></a>2.2 修改里面的软件源为</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">deb http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ <span class=\"comment\">#后面还有一部分，复制原来的</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"3-安装vim，feh，zerotier\"><a href=\"#3-安装vim，feh，zerotier\" class=\"headerlink\" title=\"3. 安装vim，feh，zerotier\"></a>3. 安装vim，feh，zerotier</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get update</span><br><span class=\"line\">sudo apt-get install -y vim feh</span><br><span class=\"line\"><span class=\"comment\"># 安装zerotier</span></span><br><span class=\"line\">curl -s https://install.zerotier.com | sudo bash</span><br><span class=\"line\">zerotier-cli join a0cbf4b62abd56ec</span><br><span class=\"line\"><span class=\"comment\"># zerotier 还可以自建moon节点，来提高连接速度或打洞成功率</span></span><br><span class=\"line\"><span class=\"comment\"># zerotier-cli orbit xxxx xxxx</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"4-feh脚本\"><a href=\"#4-feh脚本\" class=\"headerlink\" title=\"4. feh脚本\"></a>4. feh脚本</h2><blockquote>\n<p>info打印出“从python脚本中获取到的时间、天气信息”</p>\n<p>harmony字体是我从电脑上复制的ttf字体，一定要是ttf，不能是ttc（feh中不生效）</p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\"><span class=\"comment\"># -r 随机展示</span></span><br><span class=\"line\"><span class=\"comment\"># -z</span></span><br><span class=\"line\"><span class=\"comment\"># -F 全屏</span></span><br><span class=\"line\"><span class=\"comment\"># -Y 隐藏鼠标</span></span><br><span class=\"line\"><span class=\"comment\"># -Z</span></span><br><span class=\"line\"><span class=\"comment\"># -D 照片停留时间（秒）</span></span><br><span class=\"line\"><span class=\"comment\"># -R 照片数据刷新时间（秒）</span></span><br><span class=\"line\"><span class=\"comment\"># --info 左下角展示的信息</span></span><br><span class=\"line\"><span class=\"comment\"># -C 设置字体路径</span></span><br><span class=\"line\"><span class=\"comment\"># -e 设置字体名字/字号</span></span><br><span class=\"line\">feh /home/pi/Pictures/ -rzFYZ -D 60 -R 120 --info <span class=\"string\">&quot;python3 /home/pi/Desktop/info.py&quot;</span> -C /usr/share/fonts/truetype/harmonyos_sans_sc -e HarmonyOS_Sans_SC_Regular/30</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"5-群晖服务器定时脚本\"><a href=\"#5-群晖服务器定时脚本\" class=\"headerlink\" title=\"5. 群晖服务器定时脚本\"></a>5. 群晖服务器定时脚本</h2><blockquote>\n<p>这一步是用来远程同步树莓派上的相册。可以有很多其他方法。</p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\"><span class=\"comment\"># ip是zerotier中获得的</span></span><br><span class=\"line\">rsync -azrtvP /var/services/homes/twh/Drive/pi_photos/ pi@[ip]:/home/pi/Pictures/</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"6-树莓派上开机自启动feh脚本\"><a href=\"#6-树莓派上开机自启动feh脚本\" class=\"headerlink\" title=\"6. 树莓派上开机自启动feh脚本\"></a>6. 树莓派上开机自启动feh脚本</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir /home/pi/.config/autostart</span><br><span class=\"line\">vim /home/pi/.config/autostart/feh.desktop</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>feh脚本的内容如下：</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[Desktop Entry]</span><br><span class=\"line\">Type&#x3D;Application</span><br><span class=\"line\">Name&#x3D;feh</span><br><span class=\"line\">Exec&#x3D;&#x2F;home&#x2F;pi&#x2F;Desktop&#x2F;start.sh</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"7-设置树莓派屏幕常亮，禁止树莓派屏幕休眠\"><a href=\"#7-设置树莓派屏幕常亮，禁止树莓派屏幕休眠\" class=\"headerlink\" title=\"7. 设置树莓派屏幕常亮，禁止树莓派屏幕休眠\"></a>7. 设置树莓派屏幕常亮，禁止树莓派屏幕休眠</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo vim /etc/lightdm/lightdm.conf</span><br><span class=\"line\"><span class=\"comment\"># 找到[Seat:*]这一项，在下面的‘#xserver-command=X’删除前面的注释符#，修改为以下</span></span><br><span class=\"line\">xserver-command=X -s 0-dpms</span><br><span class=\"line\"><span class=\"comment\"># 其中，-s 参数：设置屏幕保护不启动，0 数字零，-dpms 参数：关闭电源节能管理。</span></span><br><span class=\"line\">sudo reboot</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"8-定时控制背光亮度\"><a href=\"#8-定时控制背光亮度\" class=\"headerlink\" title=\"8.  定时控制背光亮度\"></a>8.  定时控制背光亮度</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">echo</span> X &gt; /sys/class/backlight/rpi_backlight/brightness </span><br><span class=\"line\"><span class=\"comment\"># (其中X表示0~255中的任意数字。0表示背光最暗，255表示背光最亮)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 利用crontab 定时控制背光亮度</span></span><br><span class=\"line\">0 22 * * * /home/pi/Desktop/turn_down_brightness.sh</span><br><span class=\"line\">0 6 * * * /home/pi/Desktop/turn_up_brightness.sh</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>这里有坑，每次重启树莓派后 /sys/class/backlight/rpi_backlight/brightness 这个权限会背重置，导致我的crontab执行失败，我的解决办法是在root用户下开机启动的时候执行命令修改权限</p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo su</span><br><span class=\"line\">vim /etc/rc.local</span><br><span class=\"line\"><span class=\"comment\"># 在适当的位置插入命令</span></span><br><span class=\"line\">chmod 666 /sys/class/backlight/rpi_backlight/brightness</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>调亮脚本</p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> 200 &gt; /sys/class/backlight/rpi_backlight/brightness</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>调暗脚本</p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> 30 &gt; /sys/class/backlight/rpi_backlight/brightness</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"9-显示日期时间\"><a href=\"#9-显示日期时间\" class=\"headerlink\" title=\"9.  显示日期时间\"></a>9.  显示日期时间</h2><blockquote>\n<p>利用python脚本实现</p>\n</blockquote>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/bin/python</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> json</span><br><span class=\"line\"><span class=\"keyword\">import</span> time</span><br><span class=\"line\"></span><br><span class=\"line\">tempeature = <span class=\"string\">&#x27;-&#x27;</span></span><br><span class=\"line\">weather = <span class=\"string\">&#x27;未知&#x27;</span></span><br><span class=\"line\">response = &#123;&#125;</span><br><span class=\"line\">wind_dir = <span class=\"string\">&#x27;东风&#x27;</span></span><br><span class=\"line\">wind_scale = <span class=\"string\">&#x27;0&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">with</span> <span class=\"built_in\">open</span>(<span class=\"string\">&#x27;/home/pi/Desktop/city_weather.json&#x27;</span>, <span class=\"string\">&#x27;r&#x27;</span>, encoding=<span class=\"string\">&#x27;UTF-8&#x27;</span>) <span class=\"keyword\">as</span> f:</span><br><span class=\"line\">    response = json.loads(f.read())</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> response[<span class=\"string\">&quot;code&quot;</span>] == <span class=\"string\">&quot;200&quot;</span>:</span><br><span class=\"line\">    tempeature = response[<span class=\"string\">&quot;now&quot;</span>][<span class=\"string\">&quot;temp&quot;</span>]</span><br><span class=\"line\">    weather = response[<span class=\"string\">&quot;now&quot;</span>][<span class=\"string\">&quot;text&quot;</span>]</span><br><span class=\"line\">    wind_dir = response[<span class=\"string\">&quot;now&quot;</span>][<span class=\"string\">&quot;windDir&quot;</span>]</span><br><span class=\"line\">    wind_scale = response[<span class=\"string\">&quot;now&quot;</span>][<span class=\"string\">&quot;windScale&quot;</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">date = time.strftime(<span class=\"string\">&quot;%Y-%m-%d %H:%M&quot;</span>, time.localtime())</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># feh的info参数会直接拿这个输出来展示</span></span><br><span class=\"line\">print(<span class=\"string\">&quot;&#123;0&#125;\\n上海: &#123;1&#125;, &#123;2&#125;℃\\n&#123;3&#125;&#123;4&#125;级&quot;</span>.<span class=\"built_in\">format</span>(date, weather, tempeature, wind_dir, wind_scale))</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"10-显示天气\"><a href=\"#10-显示天气\" class=\"headerlink\" title=\"10. 显示天气\"></a>10. 显示天气</h2><blockquote>\n<p>利用python脚本实现，调用<a href=\"https://dev.qweather.com/\">和风天气api</a></p>\n<p>获取到天气数据后，存在一个json文件里</p>\n</blockquote>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/bin/python</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> requests</span><br><span class=\"line\"><span class=\"keyword\">import</span> json</span><br><span class=\"line\"><span class=\"keyword\">import</span> time</span><br><span class=\"line\"></span><br><span class=\"line\">key = <span class=\"string\">&quot;xxxx&quot;</span></span><br><span class=\"line\">location_id = <span class=\"string\">&quot;101020100&quot;</span> <span class=\"comment\"># 上海</span></span><br><span class=\"line\"></span><br><span class=\"line\">url = <span class=\"string\">&quot;https://devapi.qweather.com/v7/weather/now?key=&#123;0&#125;&amp;location=&#123;1&#125;&quot;</span>.<span class=\"built_in\">format</span>(key, location_id)</span><br><span class=\"line\"></span><br><span class=\"line\">payload=&#123;&#125;</span><br><span class=\"line\">headers = &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">response = requests.request(<span class=\"string\">&quot;GET&quot;</span>, url, headers=headers, data=payload)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> response.status_code == <span class=\"number\">200</span>:</span><br><span class=\"line\">    ffw = <span class=\"built_in\">open</span>(<span class=\"string\">&#x27;/home/pi/Desktop/city_weather.json&#x27;</span>, <span class=\"string\">&#x27;w&#x27;</span>, errors=<span class=\"string\">&#x27;ignore&#x27;</span>)</span><br><span class=\"line\">    ffw.write(response.text)</span><br><span class=\"line\">    ffw.close()</span><br><span class=\"line\">    print(<span class=\"string\">&#x27;Updated!&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">else</span>:</span><br><span class=\"line\">    print(<span class=\"string\">&#x27;Nothing Change.&#x27;</span>)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"11-为减少和风天气api调用次数，每小时更新一次数据\"><a href=\"#11-为减少和风天气api调用次数，每小时更新一次数据\" class=\"headerlink\" title=\"11. 为减少和风天气api调用次数，每小时更新一次数据\"></a>11. 为减少和风天气api调用次数，每小时更新一次数据</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 加入crontab</span></span><br><span class=\"line\">0 * * * * python3 /home/pi/Desktop/weather.py</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"12-重启，KO\"><a href=\"#12-重启，KO\" class=\"headerlink\" title=\"12. 重启，KO\"></a>12. 重启，KO</h2><p><img src=\"/images/%E5%B1%95%E7%A4%BA1.jpg\" alt=\"结果\"></p>\n"}],"PostAsset":[],"PostCategory":[{"post_id":"ckniaipvy0003lspavya12uxm","category_id":"ckniaipw00005lspapyyc2ztb","_id":"ckniaipw4000elspatf62k5hk"},{"post_id":"ckniaipw00006lspaxk97sm8p","category_id":"ckniaipw3000alspajkcwti1t","_id":"ckniaipw5000jlsparnuxa1q3"},{"post_id":"ckniaipw10008lspawfm6fibf","category_id":"ckniaipw5000glspaw25yq1vh","_id":"ckniaipw6000nlspayrfrougl"},{"post_id":"ckniaipw20009lspagdzpfaat","category_id":"ckniaipw5000klspakvggw2vo","_id":"ckniaipw7000qlspaml7lrhgj"},{"post_id":"ckniaipw3000clspa2v48gw4e","category_id":"ckniaipw5000glspaw25yq1vh","_id":"ckniaipw7000tlspa0w4hggqk"}],"PostTag":[{"post_id":"ckniaipvr0000lspaptwr6lwe","tag_id":"ckniaipvx0002lspantom79ja","_id":"ckniaipw4000dlspaxfglg361"},{"post_id":"ckniaipvr0000lspaptwr6lwe","tag_id":"ckniaipw10007lspac19svs1o","_id":"ckniaipw5000flspacu2k6rzk"},{"post_id":"ckniaipvv0001lspabn9uy5m3","tag_id":"ckniaipw3000blspa3k8nmp2o","_id":"ckniaipw5000ilspae8rj3d4r"},{"post_id":"ckniaipvy0003lspavya12uxm","tag_id":"ckniaipw5000hlspaw7kkgrxw","_id":"ckniaipw6000mlspa9dm8giok"},{"post_id":"ckniaipvz0004lspaxs47laxu","tag_id":"ckniaipw5000llsparspep49l","_id":"ckniaipw7000slspaphwoqdcr"},{"post_id":"ckniaipvz0004lspaxs47laxu","tag_id":"ckniaipw7000plspamrkhsdwa","_id":"ckniaipw7000ulspa17exjazb"},{"post_id":"ckniaipw00006lspaxk97sm8p","tag_id":"ckniaipw7000rlspa16qj0p8x","_id":"ckniaipw8000ylspa7zgviv7d"},{"post_id":"ckniaipw00006lspaxk97sm8p","tag_id":"ckniaipw7000vlspa9k84slxc","_id":"ckniaipw8000zlspa4vvgxhnh"},{"post_id":"ckniaipw00006lspaxk97sm8p","tag_id":"ckniaipw8000wlspa4b0gkjp7","_id":"ckniaipw80011lspaco6xsyl4"},{"post_id":"ckniaipw10008lspawfm6fibf","tag_id":"ckniaipw8000xlspaqlnt973x","_id":"ckniaipw80012lspab0berjp2"},{"post_id":"ckniaipw20009lspagdzpfaat","tag_id":"ckniaipw80010lspazv1qjiu6","_id":"ckniaipw90014lspaacyw94s4"},{"post_id":"ckniaipw3000clspa2v48gw4e","tag_id":"ckniaipw80013lspa27xkx0ej","_id":"ckniaipw90016lspajahpsqbf"},{"post_id":"ckniaipw3000clspa2v48gw4e","tag_id":"ckniaipw90015lspapgplql3z","_id":"ckniaipw90017lspa5djvrwey"},{"post_id":"ckniaipwh001dlspa75rq277m","tag_id":"ckniaipw80013lspa27xkx0ej","_id":"ckniaipwj001flspanp64dhfx"},{"post_id":"ckniaipwi001elspa1b3il4ig","tag_id":"ckniaipw80013lspa27xkx0ej","_id":"ckniaipwj001hlspa8xmcn6lr"},{"post_id":"ckniaipwc0018lspabtobnity","tag_id":"ckniaipwg001clspabu7wjjtf","_id":"ckniaipwk001jlspaislsbqyf"},{"post_id":"ckniaipwc0018lspabtobnity","tag_id":"ckniaipwj001glspawsvthlxj","_id":"ckniaipwk001klspauh4g2b5g"},{"post_id":"ckniaipwf001alspaejlntyg2","tag_id":"ckniaipwk001ilspa76vuvbwz","_id":"ckniaipwk001mlspa3xgjw22y"},{"post_id":"ckniaipwf001alspaejlntyg2","tag_id":"ckniaipwk001llspaiu9xp1o0","_id":"ckniaipwk001nlspaf8zn06ts"},{"post_id":"cky877yu90000mnbjbyv21diq","tag_id":"cky87gehm0000xqbj0h01d5ze","_id":"cky87gehq0002xqbj4iere9hg"},{"post_id":"cky877yu90000mnbjbyv21diq","tag_id":"cky87gehq0001xqbj9hi0g94g","_id":"cky87gehr0003xqbjdlw0f2n2"}],"Tag":[{"name":"gitbook","_id":"ckniaipvx0002lspantom79ja"},{"name":"faq","_id":"ckniaipw10007lspac19svs1o"},{"name":"mac","_id":"ckniaipw3000blspa3k8nmp2o"},{"name":"ssh","_id":"ckniaipw5000hlspaw7kkgrxw"},{"name":"tc","_id":"ckniaipw5000llsparspep49l"},{"name":"openwrt","_id":"ckniaipw7000plspamrkhsdwa"},{"name":"ios","_id":"ckniaipw7000rlspa16qj0p8x"},{"name":"ui automation","_id":"ckniaipw7000vlspa9k84slxc"},{"name":"automation","_id":"ckniaipw8000wlspa4b0gkjp7"},{"name":"quill-image-resize-module","_id":"ckniaipw8000xlspaqlnt973x"},{"name":"zsh","_id":"ckniaipw80010lspazv1qjiu6"},{"name":"vue","_id":"ckniaipw80013lspa27xkx0ej"},{"name":"css","_id":"ckniaipw90015lspapgplql3z"},{"name":"nextcloud","_id":"ckniaipwg001clspabu7wjjtf"},{"name":"proxy","_id":"ckniaipwj001glspawsvthlxj"},{"name":"html5","_id":"ckniaipwk001ilspa76vuvbwz"},{"name":"viewpoint","_id":"ckniaipwk001llspaiu9xp1o0"},{"name":"raspberry pi","_id":"cky87gehm0000xqbj0h01d5ze"},{"name":"feh","_id":"cky87gehq0001xqbj9hi0g94g"}]}}